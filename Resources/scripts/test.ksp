{ Compiled on Wed Apr 12 23:01:59 2023 }
on init
  declare $concat_it
  declare $concat_offset
  declare $string_it
  declare $list_it
  declare $preproc_i
  make_perfview
  set_script_title("WholeGrain")
  set_ui_width_px(800)
  set_ui_height_px(468)
  set_ui_color(10466979)
  set_control_par_str($INST_WALLPAPER_ID,$CONTROL_PAR_PICTURE,"background2.png")
  set_snapshot_type(1)
  declare %GuiCallBacks__async_ID[256] := (-1)
  declare @GuiCallBacks__basepath
  declare %GuiCallBacks__loadPresetArrayID[3]
  declare const $GuiCallBacks__numUIElements := 77
  declare const $GuiCallBacks__numVariables := 83
  declare %GuiCallBacks___settingsSave[2*$GuiCallBacks__numUIElements] := (0)
  declare const $GuiCallBacks__settingsSave__SIZE_D1 := 2
  declare const $GuiCallBacks__settingsSave__SIZE_D2 := $GuiCallBacks__numUIElements
  declare %GuiCallBacks__previousValues[$GuiCallBacks__numUIElements]
  declare %GuiCallBacks__variableSettingsSave[$GuiCallBacks__numVariables]
  make_persistent(%GuiCallBacks__variableSettingsSave)
  declare %GuiCallBacks__samplePathsIndexState[22]
  make_persistent(%GuiCallBacks__samplePathsIndexState)
  declare %GuiCallBacks__preSamplePathsIndexState[22]
  declare $i := 0
  declare $j := 0
  declare $k := 0
  declare $l := 0
  declare $loadArrayIterator := 0
  declare $listenerIterator := 0
  declare $Engine__debugMode := 1
  declare polyphonic $Engine__new_id
  declare const $Engine__num_unique_samples := 4
  declare $Engine__noteIsOn := 0
  declare %Engine__notesPlayingPerZone[11]
  declare $Engine__initFont
  $Engine__initFont := get_font_id("/Fonts/Font1-20p.png")
  declare $Engine__initFontFull
  $Engine__initFontFull := get_font_id("/Fonts/Font1.png")
  declare %Engine__UIElementIsChanging[$GuiCallBacks__numUIElements] := (0)
  declare $Engine__lastUIChange := 0
  declare const $Engine__numDynamicLabels := 35
  declare %Engine__listenerCalls[$Engine__numDynamicLabels]
  declare ~Engine__tmpVarForRounding
  declare ui_panel $Engine__mainTabPanel
  declare ui_panel $Engine__ADSRPanel
  declare ui_panel $Engine__tabsPanel
  declare ui_panel $Engine__presetPanel
  declare ui_panel $Engine__presetBrowserPanel
  declare ui_panel $Engine__statePanel
  declare ui_panel $Engine__FXPanel
  declare ui_panel $Engine__ranTabPanel
  declare ui_panel $Engine__particleTabPanel
  declare $Engine__mainTabPanelID
  $Engine__mainTabPanelID := get_ui_id($Engine__mainTabPanel)
  declare $Engine__ADSRPanelID
  $Engine__ADSRPanelID := get_ui_id($Engine__ADSRPanel)
  declare $Engine__presetPanelID
  $Engine__presetPanelID := get_ui_id($Engine__presetPanel)
  declare $Engine__presetBrowserPanelID
  $Engine__presetBrowserPanelID := get_ui_id($Engine__presetBrowserPanel)
  declare $Engine__tabsPanelID
  $Engine__tabsPanelID := get_ui_id($Engine__tabsPanel)
  declare $Engine__statePanelID
  $Engine__statePanelID := get_ui_id($Engine__statePanel)
  declare $Engine__FXPanelID
  $Engine__FXPanelID := get_ui_id($Engine__FXPanel)
  declare $Engine__ranTabPanelID
  $Engine__ranTabPanelID := get_ui_id($Engine__ranTabPanel)
  declare $Engine__particleTabPanelID
  $Engine__particleTabPanelID := get_ui_id($Engine__particleTabPanel)
  declare ui_button $Engine__saveStateButton
  declare ui_button $Engine__loadStateButton
  declare ui_switch $Engine__scrambleButton
  declare $Engine__scrambleButtonID
  $Engine__scrambleButtonID := get_ui_id($Engine__scrambleButton)
  declare ui_switch $Engine__scrambleButton2
  declare $Engine__scrambleButton2ID
  $Engine__scrambleButton2ID := get_ui_id($Engine__scrambleButton2)
  declare ui_slider $Engine__footerKnob0(0,6)
  declare ui_slider $Engine__footerKnob1(0,1000000)
  declare ui_slider $Engine__footerKnob2(0,127)
  declare ui_slider $Engine__footerKnob3(0,397000)
  declare ui_slider $Engine__footerKnob4(0,397000)
  declare %Engine__footerLabels[5]
  declare ui_label $Engine__footerLabels0(1,1)
  declare ui_label $Engine__footerLabels1(1,1)
  declare ui_label $Engine__footerLabels2(1,1)
  declare ui_label $Engine__footerLabels3(1,1)
  declare ui_label $Engine__footerLabels4(1,1)
  $preproc_i := 0
  while ($preproc_i<=4)
    %Engine__footerLabels[$preproc_i] := get_ui_id($Engine__footerLabels0)+$preproc_i
    inc($preproc_i)
  end while
  declare ui_switch $Engine__footerBitcrushButton
  declare ui_switch $Engine__footerDropletsButton
  declare ui_switch $Engine__footerDelayButton
  declare ui_switch $Engine__footerReverbButton
  declare ui_slider $Engine__mainKnobMod(0,127)
  declare $Engine__mainKnobModID
  $Engine__mainKnobModID := get_ui_id($Engine__mainKnobMod)
  declare ui_label $Engine__modBackgroundLabel(0,0)
  declare ui_label $Engine__modBackgroundLabelBlur(0,0)
  declare %Engine__tabs[3]
  declare ui_switch $Engine__tabs0
  declare ui_switch $Engine__tabs1
  declare ui_switch $Engine__tabs2
  $preproc_i := 0
  while ($preproc_i<=2)
    %Engine__tabs[$preproc_i] := get_ui_id($Engine__tabs0)+$preproc_i
    inc($preproc_i)
  end while
  declare ui_switch $Engine__presetDropDown
  declare %Engine__presetCategories[4]
  declare ui_button $Engine__presetCategories0
  declare ui_button $Engine__presetCategories1
  declare ui_button $Engine__presetCategories2
  declare ui_button $Engine__presetCategories3
  $preproc_i := 0
  while ($preproc_i<=3)
    %Engine__presetCategories[$preproc_i] := get_ui_id($Engine__presetCategories0)+$preproc_i
    inc($preproc_i)
  end while
  declare $Engine__currentCategory := 0
  declare %Engine__catLightUp[4]
  declare ui_label $Engine__catLightUp0(0,0)
  declare ui_label $Engine__catLightUp1(0,0)
  declare ui_label $Engine__catLightUp2(0,0)
  declare ui_label $Engine__catLightUp3(0,0)
  $preproc_i := 0
  while ($preproc_i<=3)
    %Engine__catLightUp[$preproc_i] := get_ui_id($Engine__catLightUp0)+$preproc_i
    inc($preproc_i)
  end while
  declare %Engine__presetPageIndex[7]
  declare ui_button $Engine__presetPageIndex0
  declare ui_button $Engine__presetPageIndex1
  declare ui_button $Engine__presetPageIndex2
  declare ui_button $Engine__presetPageIndex3
  declare ui_button $Engine__presetPageIndex4
  declare ui_button $Engine__presetPageIndex5
  declare ui_button $Engine__presetPageIndex6
  $preproc_i := 0
  while ($preproc_i<=6)
    %Engine__presetPageIndex[$preproc_i] := get_ui_id($Engine__presetPageIndex0)+$preproc_i
    inc($preproc_i)
  end while
  declare %Engine__presetColumn[7]
  declare %Engine___currentPresetState[4*7*2]
  declare const $Engine__currentPresetState__SIZE_D1 := 4
  declare const $Engine__currentPresetState__SIZE_D2 := 7
  declare const $Engine__currentPresetState__SIZE_D3 := 2
  declare !Engine___presetNames[4*16]
  declare const $Engine__presetNames__SIZE_D1 := 4
  declare const $Engine__presetNames__SIZE_D2 := 16
  declare %Engine__currentPage[4] := (0, 0, 0, 0)
  declare ui_switch $Engine__nextPage
  declare ui_switch $Engine__page0Button
  declare ui_switch $Engine__page1Button
  declare ui_switch $Engine__prevPage
  declare ui_label $Engine__presetBrowserBackground(0,0)
  declare %Engine__randomPPLocks[11]
  declare ui_button $Engine__randomPPLocks0
  declare ui_button $Engine__randomPPLocks1
  declare ui_button $Engine__randomPPLocks2
  declare ui_button $Engine__randomPPLocks3
  declare ui_button $Engine__randomPPLocks4
  declare ui_button $Engine__randomPPLocks5
  declare ui_button $Engine__randomPPLocks6
  declare ui_button $Engine__randomPPLocks7
  declare ui_button $Engine__randomPPLocks8
  declare ui_button $Engine__randomPPLocks9
  declare ui_button $Engine__randomPPLocks10
  $preproc_i := 0
  while ($preproc_i<=10)
    %Engine__randomPPLocks[$preproc_i] := get_ui_id($Engine__randomPPLocks0)+$preproc_i
    inc($preproc_i)
  end while
  declare %Engine__randomFFLocks[11]
  declare ui_button $Engine__randomFFLocks0
  declare ui_button $Engine__randomFFLocks1
  declare ui_button $Engine__randomFFLocks2
  declare ui_button $Engine__randomFFLocks3
  declare ui_button $Engine__randomFFLocks4
  declare ui_button $Engine__randomFFLocks5
  declare ui_button $Engine__randomFFLocks6
  declare ui_button $Engine__randomFFLocks7
  declare ui_button $Engine__randomFFLocks8
  declare ui_button $Engine__randomFFLocks9
  declare ui_button $Engine__randomFFLocks10
  $preproc_i := 0
  while ($preproc_i<=10)
    %Engine__randomFFLocks[$preproc_i] := get_ui_id($Engine__randomFFLocks0)+$preproc_i
    inc($preproc_i)
  end while
  declare %Engine__lockedRandomizers[22]
  declare %Engine__lockRow[2]
  declare ui_button $Engine__lockRow0
  declare ui_button $Engine__lockRow1
  $preproc_i := 0
  while ($preproc_i<=1)
    %Engine__lockRow[$preproc_i] := get_ui_id($Engine__lockRow0)+$preproc_i
    inc($preproc_i)
  end while
  declare %Engine__numCurrentLocks[2]
  declare %Engine__lightUp[11]
  declare ui_label $Engine__lightUp0(0,0)
  declare ui_label $Engine__lightUp1(0,0)
  declare ui_label $Engine__lightUp2(0,0)
  declare ui_label $Engine__lightUp3(0,0)
  declare ui_label $Engine__lightUp4(0,0)
  declare ui_label $Engine__lightUp5(0,0)
  declare ui_label $Engine__lightUp6(0,0)
  declare ui_label $Engine__lightUp7(0,0)
  declare ui_label $Engine__lightUp8(0,0)
  declare ui_label $Engine__lightUp9(0,0)
  declare ui_label $Engine__lightUp10(0,0)
  $preproc_i := 0
  while ($preproc_i<=10)
    %Engine__lightUp[$preproc_i] := get_ui_id($Engine__lightUp0)+$preproc_i
    inc($preproc_i)
  end while
  declare const $Engine__fxSpacing := 45
  declare %Engine__fxTabSpacingY[6]
  while ($i<6)
    %Engine__fxTabSpacingY[$i] := 121+($i*$Engine__fxSpacing)
    $i := $i+1
  end while
  $i := 0
  declare const $Engine__fxLabelAbove := 14
  declare const $Engine__fxLabelTextOffsetX := 7
  declare ui_label $Engine__playbackLabel(1,1)
  declare ui_slider $Engine__crossfadeKnob(0,6)
  declare ui_button $Engine__reverseModeButton
  declare ui_label $Engine__crossfadeLabel(1,1)
  declare ui_label $Engine__ADSRLabel(1,1)
  declare ui_slider $Engine__attackKnob(0,1000000)
  declare ui_slider $Engine__decayKnob(0,1000000)
  declare ui_slider $Engine__sustainKnob(0,1000000)
  declare ui_slider $Engine__releaseKnob(0,880000)
  declare ui_slider $Engine__attackCurveKnob(0,1000000)
  declare ui_button $Engine__finishDecayButton
  declare ui_label $Engine__attackLabel(1,1)
  declare ui_label $Engine__decayLabel(1,1)
  declare ui_label $Engine__sustainLabel(1,1)
  declare ui_label $Engine__releaseLabel(1,1)
  declare ui_label $Engine__attackCurveLabel(1,1)
  declare ui_switch $Engine__eqOnOff
  declare ui_label $Engine__eqLabel(1,1)
  declare ui_slider $Engine__highShelf(0,1000000)
  declare ui_slider $Engine__midBand(0,1000000)
  declare ui_slider $Engine__lowShelf(0,1000000)
  declare ui_label $Engine__highShelfLabel(1,1)
  declare ui_label $Engine__midBandLabel(1,1)
  declare ui_label $Engine__lowShelfLabel(1,1)
  declare ui_switch $Engine__bitcrushOnOff
  declare ui_label $Engine__bitcrushLabel(1,1)
  declare ui_slider $Engine__sampleRate(0,1000000)
  declare ui_label $Engine__sampleRateLabel(1,1)
  declare ui_slider $Engine__bits(0,1000000)
  declare ui_label $Engine__bitsLabel(1,1)
  declare ui_switch $Engine__delayOnOff
  declare ui_label $Engine__delayLabel(1,1)
  declare ui_slider $Engine__delayRate(0,1000000)
  declare ui_slider $Engine__delayFeedback(0,800000)
  declare ui_slider $Engine__delayMix(0,397000)
  declare ui_switch $Engine__delayPingPong
  declare ui_label $Engine__delayRateLabel(1,1)
  declare ui_label $Engine__delayFeedbackLabel(1,1)
  declare ui_label $Engine__delayMixLabel(1,1)
  declare ui_switch $Engine__reverbOnOff
  declare ui_label $Engine__reverbLabel(1,1)
  declare ui_slider $Engine__reverbDecay(0,1000000)
  declare ui_slider $Engine__reverbMix(0,397000)
  declare ui_switch $Engine__reverbReverse
  declare ui_label $Engine__reverbDecayLabel(1,1)
  declare ui_label $Engine__reverbMixLabel(1,1)
  declare ui_label $Engine__particleFXButtonLabel(1,1)
  declare ui_switch $Engine__particleFXButton
  declare const $Engine__particleTabSpacing := 45
  declare %Engine__particleTabSpacingY[6]
  while ($i<6)
    %Engine__particleTabSpacingY[$i] := 121+($i*$Engine__particleTabSpacing)
    $i := $i+1
  end while
  $i := 0
  declare ui_switch $Engine__particleMode
  declare ui_switch $Engine__Tempo_sync
  declare ui_slider $Engine__particleDryWet(0,127)
  declare ui_slider $Engine__Rate_knob(0,1000000)
  declare ui_slider $Engine__timeVariation(0,100)
  declare ui_slider $Engine__particleOctave(0,2)
  declare ui_slider $Engine__particleSpread(0,1000)
  declare ui_slider $Engine__particleVolVariation(0,20000)
  declare ui_slider $Engine__particleCrossfadeKnob(0,6)
  declare ui_button $Engine__particleReverseMode
  declare ui_switch $Engine__particleStretchMode
  declare ui_slider $Engine__particleStretchSpeed(0,1000000)
  declare ui_slider $Engine__particleStretchFormant(0,1000000)
  declare ui_slider $Engine__particleAttackKnob(0,1000000)
  declare ui_slider $Engine__particleDecayKnob(0,1000000)
  declare ui_slider $Engine__particleSustainKnob(0,1000000)
  declare ui_slider $Engine__particleReleaseKnob(0,880000)
  declare ui_slider $Engine__particleAttackCurveKnob(0,1000000)
  declare ui_label $Engine__particleMixLabel(1,1)
  declare ui_label $Engine__particleRateLabel(1,1)
  declare ui_label $Engine__particleVariationLabel(1,1)
  declare ui_label $Engine__particleOctaveLabel(1,1)
  declare ui_label $Engine__particleSpreadLabel(1,1)
  declare ui_label $Engine__particleVolVariationLabel(1,1)
  declare ui_label $Engine__particleCrossfadeKnobLabel(1,1)
  declare ui_label $Engine__particleVariationSectionLabel(1,1)
  declare ui_label $Engine__particlePlaybackLabel(1,1)
  declare ui_label $Engine__particleMainLabel(1,1)
  declare ui_label $Engine__particleStretchSectionLabel(1,1)
  declare ui_label $Engine__particleStretchSpeedLabel(1,1)
  declare ui_label $Engine__particleStretchFormantLabel(1,1)
  declare ui_label $Engine__particleADSRLabel(1,1)
  declare ui_label $Engine__particleAttackKnobLabel(1,1)
  declare ui_label $Engine__particleDecayKnobLabel(1,1)
  declare ui_label $Engine__particleSustainKnobLabel(1,1)
  declare ui_label $Engine__particleReleaseKnobLabel(1,1)
  declare ui_label $Engine__particleAttackCurveKnobLabel(1,1)
  declare $Engine__Free_knob := 500
  declare $Engine__Sync_knob := 5
  declare $Engine__particleModeID
  $Engine__particleModeID := get_ui_id($Engine__particleMode)
  declare !Engine__noteClass[12]
  declare !Engine__tempoNames[18]
  declare polyphonic $Engine__count
  declare $Engine__delay_time
  declare polyphonic $Engine__art_id
  declare polyphonic $Engine__timeVarCeiling := 0
  declare polyphonic $Engine__numberChooser := 0
  @GuiCallBacks__basepath := get_folder($GET_FOLDER_PATCH_DIR)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+0] := get_ui_id($Engine__attackKnob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+1] := get_ui_id($Engine__decayKnob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+2] := get_ui_id($Engine__sustainKnob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+3] := get_ui_id($Engine__releaseKnob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+4] := get_ui_id($Engine__attackCurveKnob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+5] := get_ui_id($Engine__reverseModeButton)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+6] := get_ui_id($Engine__finishDecayButton)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+7] := get_ui_id($Engine__crossfadeKnob)
  watch_array_idx(%GuiCallBacks___settingsSave,8)
  watch_array_idx(%GuiCallBacks___settingsSave,9)
  watch_array_idx(%GuiCallBacks___settingsSave,61)
  while ($i<11)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+$i+8] := %Engine__randomPPLocks[$i]
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+$i+11+8] := %Engine__randomFFLocks[$i]
    $i := $i+1
  end while
  $i := 0
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+30] := %Engine__lockRow[0]
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+31] := %Engine__lockRow[1]
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+32] := $Engine__footerKnob0
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+33] := $Engine__footerKnob1
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+34] := $Engine__footerKnob2
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+35] := $Engine__footerKnob3
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+36] := $Engine__footerKnob4
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+37] := $Engine__mainKnobModID
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+38] := $Engine__particleModeID
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+39] := get_ui_id($Engine__Tempo_sync)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+40] := get_ui_id($Engine__particleDryWet)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+41] := get_ui_id($Engine__Rate_knob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+42] := get_ui_id($Engine__timeVariation)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+43] := get_ui_id($Engine__eqOnOff)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+44] := get_ui_id($Engine__highShelf)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+45] := get_ui_id($Engine__midBand)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+46] := get_ui_id($Engine__lowShelf)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+47] := get_ui_id($Engine__bitcrushOnOff)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+48] := get_ui_id($Engine__sampleRate)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+49] := get_ui_id($Engine__delayOnOff)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+50] := get_ui_id($Engine__delayRate)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+51] := get_ui_id($Engine__delayFeedback)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+52] := get_ui_id($Engine__delayMix)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+53] := get_ui_id($Engine__delayPingPong)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+54] := get_ui_id($Engine__reverbOnOff)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+55] := get_ui_id($Engine__reverbDecay)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+56] := get_ui_id($Engine__reverbMix)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+57] := get_ui_id($Engine__reverbReverse)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+58] := get_ui_id($Engine__particleOctave)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+59] := get_ui_id($Engine__particleSpread)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+60] := get_ui_id($Engine__particleVolVariation)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+61] := get_ui_id($Engine__particleCrossfadeKnob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+62] := get_ui_id($Engine__particleReverseMode)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+63] := get_ui_id($Engine__particleStretchMode)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+64] := get_ui_id($Engine__particleStretchSpeed)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+65] := get_ui_id($Engine__particleStretchFormant)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+66] := get_ui_id($Engine__particleAttackKnob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+67] := get_ui_id($Engine__particleDecayKnob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+68] := get_ui_id($Engine__particleSustainKnob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+69] := get_ui_id($Engine__particleReleaseKnob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+70] := get_ui_id($Engine__particleAttackCurveKnob)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+71] := get_ui_id($Engine__particleFXButton)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+72] := get_ui_id($Engine__footerBitcrushButton)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+73] := get_ui_id($Engine__footerDropletsButton)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+74] := get_ui_id($Engine__footerDelayButton)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+75] := get_ui_id($Engine__footerReverbButton)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+76] := get_ui_id($Engine__bits)
  message("GuiCallBacks.settingsSave[0, 76]" & %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+76])
  set_control_par_str(get_ui_id($Engine__ADSRLabel),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__ADSRLabel),$CONTROL_PAR_POS_X,202)
  set_control_par(get_ui_id($Engine__ADSRLabel),$CONTROL_PAR_POS_Y,51)
  set_control_par(get_ui_id($Engine__ADSRLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par_str(get_ui_id($Engine__ADSRLabel),$CONTROL_PAR_PICTURE,"/Labels/ADSRLabel2.png")
  set_control_par(get_ui_id($Engine__attackKnob),$CONTROL_PAR_DEFAULT_VALUE,47000)
  set_control_par(get_ui_id($Engine__attackKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__attackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
  set_control_par(get_ui_id($Engine__attackKnob),$CONTROL_PAR_VALUE,47000)
  set_control_par(get_ui_id($Engine__attackKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__attackKnob),$CONTROL_PAR_POS_X,202)
  set_control_par(get_ui_id($Engine__attackKnob),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[0])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0] := $Engine__attackKnob
  set_control_par_str(get_ui_id($Engine__attackLabel),$CONTROL_PAR_TEXT,"Attack")
  set_control_par(get_ui_id($Engine__attackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
  set_control_par(get_ui_id($Engine__attackLabel),$CONTROL_PAR_POS_X,202-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__attackLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[0]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__attackLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__attackLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__decayKnob),$CONTROL_PAR_DEFAULT_VALUE,10000)
  set_control_par(get_ui_id($Engine__decayKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__decayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
  set_control_par(get_ui_id($Engine__decayKnob),$CONTROL_PAR_VALUE,10000)
  set_control_par(get_ui_id($Engine__decayKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__decayKnob),$CONTROL_PAR_POS_X,202)
  set_control_par(get_ui_id($Engine__decayKnob),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[1])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1] := $Engine__decayKnob
  set_control_par_str(get_ui_id($Engine__decayLabel),$CONTROL_PAR_TEXT,"Decay")
  set_control_par(get_ui_id($Engine__decayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
  set_control_par(get_ui_id($Engine__decayLabel),$CONTROL_PAR_POS_X,202-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__decayLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[1]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__decayLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__decayLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__sustainKnob),$CONTROL_PAR_DEFAULT_VALUE,1000000)
  set_control_par(get_ui_id($Engine__sustainKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__sustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
  set_control_par(get_ui_id($Engine__sustainKnob),$CONTROL_PAR_VALUE,1000000)
  set_control_par(get_ui_id($Engine__sustainKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__sustainKnob),$CONTROL_PAR_POS_X,202)
  set_control_par(get_ui_id($Engine__sustainKnob),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[2])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2] := $Engine__sustainKnob
  set_control_par_str(get_ui_id($Engine__sustainLabel),$CONTROL_PAR_TEXT,"Sustain")
  set_control_par(get_ui_id($Engine__sustainLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
  set_control_par(get_ui_id($Engine__sustainLabel),$CONTROL_PAR_POS_X,202-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__sustainLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[2]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__sustainLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__sustainLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__releaseKnob),$CONTROL_PAR_DEFAULT_VALUE,500000)
  set_control_par(get_ui_id($Engine__releaseKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__releaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
  set_control_par(get_ui_id($Engine__releaseKnob),$CONTROL_PAR_VALUE,500000)
  set_control_par(get_ui_id($Engine__releaseKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__releaseKnob),$CONTROL_PAR_POS_X,202)
  set_control_par(get_ui_id($Engine__releaseKnob),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[3])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3] := $Engine__releaseKnob
  set_control_par_str(get_ui_id($Engine__releaseLabel),$CONTROL_PAR_TEXT,"Release")
  set_control_par(get_ui_id($Engine__releaseLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
  set_control_par(get_ui_id($Engine__releaseLabel),$CONTROL_PAR_POS_X,202-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__releaseLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[3]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__releaseLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__releaseLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__attackCurveKnob),$CONTROL_PAR_DEFAULT_VALUE,500000)
  set_control_par(get_ui_id($Engine__attackCurveKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,-600)
  set_control_par_str(get_ui_id($Engine__attackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
  set_control_par(get_ui_id($Engine__attackCurveKnob),$CONTROL_PAR_VALUE,500000)
  set_control_par(get_ui_id($Engine__attackCurveKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__attackCurveKnob),$CONTROL_PAR_POS_X,202)
  set_control_par(get_ui_id($Engine__attackCurveKnob),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[4]+6)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4] := $Engine__attackCurveKnob
  set_control_par_str(get_ui_id($Engine__attackCurveLabel),$CONTROL_PAR_TEXT,"Attack Curve")
  set_control_par(get_ui_id($Engine__attackCurveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
  set_control_par(get_ui_id($Engine__attackCurveLabel),$CONTROL_PAR_POS_X,202-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__attackCurveLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[4]-$Engine__fxLabelAbove-1)
  set_control_par(get_ui_id($Engine__attackCurveLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__attackCurveLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__finishDecayButton),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par_str(get_ui_id($Engine__finishDecayButton),$CONTROL_PAR_TEXT,"Finish Decay")
  set_control_par(get_ui_id($Engine__finishDecayButton),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
  set_control_par(get_ui_id($Engine__finishDecayButton),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__finishDecayButton),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6] := $Engine__finishDecayButton
  set_control_par_str(get_ui_id($Engine__playbackLabel),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__playbackLabel),$CONTROL_PAR_POS_X,54)
  set_control_par(get_ui_id($Engine__playbackLabel),$CONTROL_PAR_POS_Y,51)
  set_control_par(get_ui_id($Engine__playbackLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par_str(get_ui_id($Engine__playbackLabel),$CONTROL_PAR_PICTURE,"/Labels/PlaybackLabel2.png")
  set_control_par(get_ui_id($Engine__crossfadeKnob),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__crossfadeKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__crossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
  set_control_par(get_ui_id($Engine__crossfadeKnob),$CONTROL_PAR_VALUE,500000)
  set_control_par(get_ui_id($Engine__crossfadeKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__crossfadeKnob),$CONTROL_PAR_POS_X,54)
  set_control_par(get_ui_id($Engine__crossfadeKnob),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[0])
  $Engine__crossfadeKnob := 0
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7] := $Engine__crossfadeKnob
  set_control_par_str(get_ui_id($Engine__crossfadeLabel),$CONTROL_PAR_TEXT,"Overlap")
  set_control_par(get_ui_id($Engine__crossfadeLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
  set_control_par(get_ui_id($Engine__crossfadeLabel),$CONTROL_PAR_POS_X,54-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__crossfadeLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[0]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__crossfadeLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__crossfadeLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__reverseModeButton),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par_str(get_ui_id($Engine__reverseModeButton),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
  set_control_par(get_ui_id($Engine__reverseModeButton),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__reverseModeButton),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par_str(get_ui_id($Engine__reverseModeButton),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__reverseModeButton),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__reverseModeButton),$CONTROL_PAR_POS_X,50)
  set_control_par(get_ui_id($Engine__reverseModeButton),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[1]-14)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5] := $Engine__reverseModeButton
  set_control_par_str(get_ui_id($Engine__EQLabel),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__EQLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__EQLabel),$CONTROL_PAR_POS_X,350)
  set_control_par(get_ui_id($Engine__EQLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[2]-$Engine__fxLabelAbove-12)
  set_control_par(get_ui_id($Engine__EQLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par_str(get_ui_id($Engine__EQLabel),$CONTROL_PAR_PICTURE,"/Labels/EQLabel.png")
  set_control_par_str(get_ui_id($Engine__eqOnOff),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__eqOnOff),$CONTROL_PAR_PICTURE,"/Buttons/12-12buttonRadial")
  set_control_par(get_ui_id($Engine__eqOnOff),$CONTROL_PAR_POS_X,437)
  set_control_par(get_ui_id($Engine__eqOnOff),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[2]+7)
  set_control_par(get_ui_id($Engine__eqOnOff),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__eqOnOff),$CONTROL_PAR_HEIGHT,22)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+43] := $Engine__eqOnOff
  set_control_par_str(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_TEXT,"High Shelf")
  set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_POS_X,350-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[3]-$Engine__fxLabelAbove-1)
  set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__highShelf),$CONTROL_PAR_DEFAULT_VALUE,500000)
  set_control_par(get_ui_id($Engine__highShelf),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
  set_control_par(get_ui_id($Engine__highShelf),$CONTROL_PAR_VALUE,500000)
  set_control_par(get_ui_id($Engine__highShelf),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__highShelf),$CONTROL_PAR_POS_X,350)
  set_control_par(get_ui_id($Engine__highShelf),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[3]-1)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+44] := $Engine__highShelf
  set_control_par_str(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_TEXT,"Mid Band")
  set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_POS_X,350-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[4]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__midBand),$CONTROL_PAR_DEFAULT_VALUE,500000)
  set_control_par(get_ui_id($Engine__midBand),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
  set_control_par(get_ui_id($Engine__midBand),$CONTROL_PAR_VALUE,500000)
  set_control_par(get_ui_id($Engine__midBand),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__midBand),$CONTROL_PAR_POS_X,350)
  set_control_par(get_ui_id($Engine__midBand),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[4])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+45] := $Engine__midBand
  set_control_par_str(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_TEXT,"Low Shelf")
  set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_POS_X,350-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[5]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__lowShelf),$CONTROL_PAR_DEFAULT_VALUE,500000)
  set_control_par(get_ui_id($Engine__lowShelf),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
  set_control_par(get_ui_id($Engine__lowShelf),$CONTROL_PAR_VALUE,500000)
  set_control_par(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__lowShelf),$CONTROL_PAR_POS_X,350)
  set_control_par(get_ui_id($Engine__lowShelf),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[5])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+46] := $Engine__lowShelf
  set_control_par_str(get_ui_id($Engine__bitcrushLabel),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__bitcrushLabel),$CONTROL_PAR_POS_X,350)
  set_control_par(get_ui_id($Engine__bitcrushLabel),$CONTROL_PAR_POS_Y,51)
  set_control_par(get_ui_id($Engine__bitcrushLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par_str(get_ui_id($Engine__bitcrushLabel),$CONTROL_PAR_PICTURE,"/Labels/BitcrushLabel.png")
  set_control_par_str(get_ui_id($Engine__bitcrushOnOff),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__bitcrushOnOff),$CONTROL_PAR_PICTURE,"/Buttons/12-12buttonRadial")
  set_control_par(get_ui_id($Engine__bitcrushOnOff),$CONTROL_PAR_POS_X,437)
  set_control_par(get_ui_id($Engine__bitcrushOnOff),$CONTROL_PAR_POS_Y,82)
  set_control_par(get_ui_id($Engine__bitcrushOnOff),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__bitcrushOnOff),$CONTROL_PAR_HEIGHT,22)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+47] := $Engine__bitcrushOnOff
  set_control_par_str(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_TEXT,"Sample Rate")
  set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_POS_X,350-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[0]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__sampleRate),$CONTROL_PAR_DEFAULT_VALUE,110000)
  set_control_par(get_ui_id($Engine__sampleRate),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
  set_control_par(get_ui_id($Engine__sampleRate),$CONTROL_PAR_VALUE,110000)
  set_control_par(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__sampleRate),$CONTROL_PAR_POS_X,350)
  set_control_par(get_ui_id($Engine__sampleRate),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[0])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+48] := $Engine__sampleRate
  set_control_par_str(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_TEXT,"Bits")
  set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_POS_X,350-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[1]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__bits),$CONTROL_PAR_DEFAULT_VALUE,110000)
  set_control_par(get_ui_id($Engine__bits),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
  set_control_par(get_ui_id($Engine__bits),$CONTROL_PAR_VALUE,1000000)
  set_control_par(get_ui_id($Engine__bits),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__bits),$CONTROL_PAR_POS_X,350)
  set_control_par(get_ui_id($Engine__bits),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[1])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+76] := $Engine__bits
  set_control_par_str(get_ui_id($Engine__delayLabel),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__delayLabel),$CONTROL_PAR_POS_X,498)
  set_control_par(get_ui_id($Engine__delayLabel),$CONTROL_PAR_POS_Y,51)
  set_control_par(get_ui_id($Engine__delayLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par_str(get_ui_id($Engine__delayLabel),$CONTROL_PAR_PICTURE,"/Labels/DelayLabel.png")
  set_control_par_str(get_ui_id($Engine__delayOnOff),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__delayOnOff),$CONTROL_PAR_PICTURE,"/Buttons/12-12buttonRadial")
  set_control_par(get_ui_id($Engine__delayOnOff),$CONTROL_PAR_POS_X,585)
  set_control_par(get_ui_id($Engine__delayOnOff),$CONTROL_PAR_POS_Y,82)
  set_control_par(get_ui_id($Engine__delayOnOff),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__delayOnOff),$CONTROL_PAR_HEIGHT,22)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+49] := $Engine__delayOnOff
  set_control_par_str(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_TEXT,"Rate")
  set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_POS_X,498-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[0]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__delayRate),$CONTROL_PAR_DEFAULT_VALUE,100000)
  set_control_par(get_ui_id($Engine__delayRate),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
  set_control_par(get_ui_id($Engine__delayRate),$CONTROL_PAR_VALUE,100000)
  set_control_par(get_ui_id($Engine__delayRate),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__delayRate),$CONTROL_PAR_POS_X,498)
  set_control_par(get_ui_id($Engine__delayRate),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[0])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+50] := $Engine__delayRate
  set_control_par_str(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_TEXT,"Feedback")
  set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_POS_X,498-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[1]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_DEFAULT_VALUE,200000)
  set_control_par(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
  set_control_par(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_VALUE,200000)
  set_control_par(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_POS_X,498)
  set_control_par(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[1])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+51] := $Engine__delayFeedback
  set_control_par_str(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_TEXT,"Mix")
  set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_POS_X,498-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[2]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__delayMix),$CONTROL_PAR_DEFAULT_VALUE,300000)
  set_control_par(get_ui_id($Engine__delayMix),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
  set_control_par(get_ui_id($Engine__delayMix),$CONTROL_PAR_VALUE,300000)
  set_control_par(get_ui_id($Engine__delayMix),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__delayMix),$CONTROL_PAR_POS_X,498)
  set_control_par(get_ui_id($Engine__delayMix),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[2])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+52] := $Engine__delayMix
  set_control_par(get_ui_id($Engine__delayPingPong),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par_str(get_ui_id($Engine__delayPingPong),$CONTROL_PAR_PICTURE,"button1.png")
  set_control_par_str(get_ui_id($Engine__delayPingPong),$CONTROL_PAR_TEXT,"Ping Pong")
  set_control_par(get_ui_id($Engine__delayPingPong),$CONTROL_PAR_VALUE,500000)
  set_control_par(get_ui_id($Engine__delayPingPong),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__delayPingPong),$CONTROL_PAR_POS_X,498)
  set_control_par(get_ui_id($Engine__delayPingPong),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[3])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+53] := $Engine__delayPingPong
  set_control_par_str(get_ui_id($Engine__reverbLabel),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__reverbLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__reverbLabel),$CONTROL_PAR_POS_X,646)
  set_control_par(get_ui_id($Engine__reverbLabel),$CONTROL_PAR_POS_Y,51)
  set_control_par(get_ui_id($Engine__reverbLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par_str(get_ui_id($Engine__reverbLabel),$CONTROL_PAR_PICTURE,"/Labels/ReverbLabel.png")
  set_control_par_str(get_ui_id($Engine__reverbOnOff),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__reverbOnOff),$CONTROL_PAR_PICTURE,"/Buttons/12-12buttonRadial")
  set_control_par(get_ui_id($Engine__reverbOnOff),$CONTROL_PAR_POS_X,733)
  set_control_par(get_ui_id($Engine__reverbOnOff),$CONTROL_PAR_POS_Y,82)
  set_control_par(get_ui_id($Engine__reverbOnOff),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__reverbOnOff),$CONTROL_PAR_HEIGHT,22)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+54] := $Engine__reverbOnOff
  set_control_par_str(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_TEXT,"Decay")
  set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_POS_X,646-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[0]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_DEFAULT_VALUE,300000)
  set_control_par(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
  set_control_par(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_VALUE,300000)
  set_control_par(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_POS_X,646)
  set_control_par(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[0])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+55] := $Engine__reverbDecay
  set_control_par_str(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_TEXT,"Mix")
  set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_POS_X,646-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[1]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__reverbMix),$CONTROL_PAR_DEFAULT_VALUE,300000)
  set_control_par(get_ui_id($Engine__reverbMix),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
  set_control_par(get_ui_id($Engine__reverbMix),$CONTROL_PAR_VALUE,300000)
  set_control_par(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__reverbMix),$CONTROL_PAR_POS_X,646)
  set_control_par(get_ui_id($Engine__reverbMix),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[1])
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+56] := $Engine__reverbMix
  set_control_par(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
  set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PARENT_PANEL,$Engine__FXPanelID)
  set_control_par(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_POS_X,646-4)
  set_control_par(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_POS_Y,%Engine__fxTabSpacingY[2])
  set_control_par(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_HEIGHT,50)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+57] := $Engine__reverbReverse-14
  set_control_par_str(get_ui_id($Engine__scrambleButton),$CONTROL_PAR_TEXT,"")
  set_control_par($Engine__scrambleButtonID,$CONTROL_PAR_PARENT_PANEL,$Engine__mainTabPanelID)
  set_control_par(get_ui_id($Engine__scrambleButton),$CONTROL_PAR_HEIGHT,51)
  set_control_par_str(get_ui_id($Engine__scrambleButton),$CONTROL_PAR_PICTURE,"Buttons/DiceButton")
  set_control_par(get_ui_id($Engine__scrambleButton),$CONTROL_PAR_POS_X,200)
  set_control_par(get_ui_id($Engine__scrambleButton),$CONTROL_PAR_POS_Y,60)
  set_control_par_str(get_ui_id($Engine__scrambleButton2),$CONTROL_PAR_TEXT,"")
  set_control_par($Engine__scrambleButton2ID,$CONTROL_PAR_PARENT_PANEL,$Engine__ranTabPanelID)
  set_control_par(get_ui_id($Engine__scrambleButton2),$CONTROL_PAR_HEIGHT,51)
  set_control_par_str(get_ui_id($Engine__scrambleButton2),$CONTROL_PAR_PICTURE,"Buttons/DiceButton")
  set_control_par(get_ui_id($Engine__scrambleButton2),$CONTROL_PAR_POS_X,200)
  set_control_par(get_ui_id($Engine__scrambleButton2),$CONTROL_PAR_POS_Y,60)
  while ($i<5)
    set_control_par(%Engine__footerLabels[$i],$CONTROL_PAR_POS_Y,446)
    set_control_par(%Engine__footerLabels[$i],$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
    set_control_par(%Engine__footerLabels[$i],$CONTROL_PAR_HIDE,$HIDE_PART_BG)
    set_control_par(%Engine__footerLabels[$i],$CONTROL_PAR_TEXT_ALIGNMENT,1)
    $i := $i+1
  end while
  $i := 0
  set_control_par(%Engine__footerLabels[0],$CONTROL_PAR_POS_X,105+4+(0*122))
  set_control_par(%Engine__footerLabels[1],$CONTROL_PAR_POS_X,107+4+(1*122))
  set_control_par(%Engine__footerLabels[2],$CONTROL_PAR_POS_X,107+4+(2*122))
  set_control_par(%Engine__footerLabels[3],$CONTROL_PAR_POS_X,104+4+(3*122))
  set_control_par(%Engine__footerLabels[4],$CONTROL_PAR_POS_X,106+4+(4*122))
  set_control_par_str(get_ui_id($Engine__footerKnob0),$CONTROL_PAR_PICTURE,"/Knobs/FooterKnob2")
  set_control_par(get_ui_id($Engine__footerKnob0),$CONTROL_PAR_POS_X,129+(0*122))
  set_control_par(get_ui_id($Engine__footerKnob0),$CONTROL_PAR_POS_Y,400)
  set_control_par(get_ui_id($Engine__footerKnob0),$CONTROL_PAR_MOUSE_BEHAVIOUR,-600)
  set_control_par(get_ui_id($Engine__footerKnob0),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__footerKnob0),$CONTROL_PAR_VALUE,0)
  set_control_par_str(get_ui_id($Engine__footerKnob1),$CONTROL_PAR_PICTURE,"/Knobs/FooterKnob2")
  set_control_par(get_ui_id($Engine__footerKnob1),$CONTROL_PAR_POS_X,129+(1*122))
  set_control_par(get_ui_id($Engine__footerKnob1),$CONTROL_PAR_POS_Y,400)
  set_control_par(get_ui_id($Engine__footerKnob1),$CONTROL_PAR_MOUSE_BEHAVIOUR,-600)
  set_control_par(get_ui_id($Engine__footerKnob1),$CONTROL_PAR_DEFAULT_VALUE,110000)
  set_control_par(get_ui_id($Engine__footerKnob1),$CONTROL_PAR_VALUE,110000)
  set_control_par_str(get_ui_id($Engine__footerKnob2),$CONTROL_PAR_PICTURE,"/Knobs/FooterKnob2")
  set_control_par(get_ui_id($Engine__footerKnob2),$CONTROL_PAR_POS_X,129+(2*122))
  set_control_par(get_ui_id($Engine__footerKnob2),$CONTROL_PAR_POS_Y,400)
  set_control_par(get_ui_id($Engine__footerKnob2),$CONTROL_PAR_MOUSE_BEHAVIOUR,-600)
  set_control_par(get_ui_id($Engine__footerKnob2),$CONTROL_PAR_DEFAULT_VALUE,63)
  set_control_par(get_ui_id($Engine__footerKnob2),$CONTROL_PAR_VALUE,63)
  set_control_par_str(get_ui_id($Engine__footerKnob3),$CONTROL_PAR_PICTURE,"/Knobs/FooterKnob2")
  set_control_par(get_ui_id($Engine__footerKnob3),$CONTROL_PAR_POS_X,129+(3*122))
  set_control_par(get_ui_id($Engine__footerKnob3),$CONTROL_PAR_POS_Y,400)
  set_control_par(get_ui_id($Engine__footerKnob3),$CONTROL_PAR_MOUSE_BEHAVIOUR,-600)
  set_control_par(get_ui_id($Engine__footerKnob3),$CONTROL_PAR_DEFAULT_VALUE,300000)
  set_control_par(get_ui_id($Engine__footerKnob3),$CONTROL_PAR_VALUE,300000)
  set_control_par_str(get_ui_id($Engine__footerKnob4),$CONTROL_PAR_PICTURE,"/Knobs/FooterKnob2")
  set_control_par(get_ui_id($Engine__footerKnob4),$CONTROL_PAR_POS_X,129+(4*122))
  set_control_par(get_ui_id($Engine__footerKnob4),$CONTROL_PAR_POS_Y,400)
  set_control_par(get_ui_id($Engine__footerKnob4),$CONTROL_PAR_MOUSE_BEHAVIOUR,-600)
  set_control_par(get_ui_id($Engine__footerKnob4),$CONTROL_PAR_DEFAULT_VALUE,300000)
  set_control_par(get_ui_id($Engine__footerKnob4),$CONTROL_PAR_VALUE,300000)
  set_control_par_str(%Engine__footerLabels[0],$CONTROL_PAR_TEXT,"Overlap")
  set_control_par_str(%Engine__footerLabels[1],$CONTROL_PAR_TEXT,"Bitcrush")
  set_control_par_str(%Engine__footerLabels[2],$CONTROL_PAR_TEXT,"Droplets")
  set_control_par_str(%Engine__footerLabels[3],$CONTROL_PAR_TEXT,"Decay")
  set_control_par_str(%Engine__footerLabels[4],$CONTROL_PAR_TEXT,"Reverb")
  set_control_par_str(get_ui_id($Engine__footerBitcrushButton),$CONTROL_PAR_PICTURE,"/Buttons/12-12buttonRadial")
  set_control_par(get_ui_id($Engine__footerBitcrushButton),$CONTROL_PAR_POS_X,129+122-16)
  set_control_par(get_ui_id($Engine__footerBitcrushButton),$CONTROL_PAR_POS_Y,447)
  set_control_par(get_ui_id($Engine__footerBitcrushButton),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__footerBitcrushButton),$CONTROL_PAR_VALUE,0)
  set_control_par_str(get_ui_id($Engine__footerDropletsButton),$CONTROL_PAR_PICTURE,"/Buttons/12-12buttonRadial")
  set_control_par(get_ui_id($Engine__footerDropletsButton),$CONTROL_PAR_POS_X,127+(122*2)-16)
  set_control_par(get_ui_id($Engine__footerDropletsButton),$CONTROL_PAR_POS_Y,447)
  set_control_par(get_ui_id($Engine__footerDropletsButton),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__footerDropletsButton),$CONTROL_PAR_VALUE,0)
  set_control_par_str(get_ui_id($Engine__footerDelayButton),$CONTROL_PAR_PICTURE,"/Buttons/12-12buttonRadial")
  set_control_par(get_ui_id($Engine__footerDelayButton),$CONTROL_PAR_POS_X,129+(122*3)-16)
  set_control_par(get_ui_id($Engine__footerDelayButton),$CONTROL_PAR_POS_Y,447)
  set_control_par(get_ui_id($Engine__footerDelayButton),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__footerDelayButton),$CONTROL_PAR_VALUE,0)
  set_control_par_str(get_ui_id($Engine__footerReverbButton),$CONTROL_PAR_PICTURE,"/Buttons/12-12buttonRadial")
  set_control_par(get_ui_id($Engine__footerReverbButton),$CONTROL_PAR_POS_X,129+(122*4)-16)
  set_control_par(get_ui_id($Engine__footerReverbButton),$CONTROL_PAR_POS_Y,447)
  set_control_par(get_ui_id($Engine__footerReverbButton),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__footerReverbButton),$CONTROL_PAR_VALUE,0)
  set_control_par_str(get_ui_id($Engine__mainKnobMod),$CONTROL_PAR_PICTURE,"/Knobs/FooterKnob2")
  set_control_par(get_ui_id($Engine__mainKnobMod),$CONTROL_PAR_POS_X,356)
  set_control_par(get_ui_id($Engine__mainKnobMod),$CONTROL_PAR_POS_Y,156)
  set_control_par(get_ui_id($Engine__mainKnobMod),$CONTROL_PAR_MOUSE_BEHAVIOUR,-600)
  set_control_par(get_ui_id($Engine__mainKnobMod),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__mainKnobMod),$CONTROL_PAR_PARENT_PANEL,$Engine__mainTabPanelID)
  set_control_par_str(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE,"mod-background-test")
  set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_POS_X,0)
  set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_POS_Y,0)
  set_control_par_str(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE,"mod-background-test-blur")
  set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_POS_X,0)
  set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_POS_Y,0)
  set_control_par_str(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  set_control_par_str(get_ui_id($Engine__saveStateButton),$CONTROL_PAR_TEXT,"Save State")
  set_control_par(get_ui_id($Engine__saveStateButton),$CONTROL_PAR_PARENT_PANEL,$Engine__statePanelID)
  set_control_par(get_ui_id($Engine__saveStateButton),$CONTROL_PAR_POS_Y,450)
  set_control_par(get_ui_id($Engine__saveStateButton),$CONTROL_PAR_POS_X,0)
  set_control_par_str(get_ui_id($Engine__loadStateButton),$CONTROL_PAR_TEXT,"Load State")
  set_control_par(get_ui_id($Engine__loadStateButton),$CONTROL_PAR_PARENT_PANEL,$Engine__statePanelID)
  set_control_par(get_ui_id($Engine__loadStateButton),$CONTROL_PAR_POS_Y,450)
  set_control_par(get_ui_id($Engine__loadStateButton),$CONTROL_PAR_POS_X,40)
  while ($i<3)
    set_control_par(%Engine__tabs[$i],$CONTROL_PAR_WIDTH,40)
    set_control_par(%Engine__tabs[$i],$CONTROL_PAR_HEIGHT,40)
    set_control_par_str(%Engine__tabs[$i],$CONTROL_PAR_TEXT,"")
    set_control_par(%Engine__tabs[$i],$CONTROL_PAR_VALUE,0)
    set_control_par(%Engine__tabs[$i],$CONTROL_PAR_TEXTPOS_Y,8)
    set_control_par(%Engine__tabs[$i],$CONTROL_PAR_PARENT_PANEL,$Engine__tabsPanelID)
    $i := $i+1
  end while
  $i := 0
  set_control_par(%Engine__tabs[0],$CONTROL_PAR_POS_X,0+(0*61))
  set_control_par(%Engine__tabs[1],$CONTROL_PAR_POS_X,0+(2*61))
  set_control_par(%Engine__tabs[2],$CONTROL_PAR_POS_X,0+(1*61))
  set_control_par_str(%Engine__tabs[0],$CONTROL_PAR_PICTURE,"/Buttons/33-33fxTab")
  set_control_par_str(%Engine__tabs[1],$CONTROL_PAR_PICTURE,"/Buttons/33-33fxTab")
  set_control_par_str(%Engine__tabs[2],$CONTROL_PAR_PICTURE,"/Buttons/33-33arpTab")
  set_control_par(get_ui_id($Engine__presetBrowserPanel),$CONTROL_PAR_PARENT_PANEL,$Engine__presetPanelID)
  set_control_par(get_ui_id($Engine__presetDropDown),$CONTROL_PAR_PARENT_PANEL,$Engine__presetPanelID)
  set_control_par(get_ui_id($Engine__presetDropDown),$CONTROL_PAR_POS_X,26)
  set_control_par(get_ui_id($Engine__presetDropDown),$CONTROL_PAR_POS_Y,0)
  set_control_par_str(get_ui_id($Engine__presetDropDown),$CONTROL_PAR_TEXT,"Presets")
  set_control_par(get_ui_id($Engine__presetDropDown),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
  set_control_par_str(get_ui_id($Engine__presetDropDown),$CONTROL_PAR_PICTURE,"Preset-DropDown-Button.png")
  set_control_par(get_ui_id($Engine__presetDropDown),$CONTROL_PAR_DISABLE_TEXT_SHIFTING,1)
  set_control_par(get_ui_id($Engine__presetCategories0),$CONTROL_PAR_VALUE,1)
  set_control_par(get_ui_id($Engine__presetPageIndex0),$CONTROL_PAR_VALUE,1)
  set_control_par(get_ui_id($Engine__presetPageIndex1),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex2),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex3),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex4),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex5),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex6),$CONTROL_PAR_VALUE,0)
  %Engine___currentPresetState[2*7*0+(2*0)+0] := 1
  %Engine__presetColumn[0] := 1
  while ($i<4)
    while ($j<16)
      !Engine___presetNames[16*$i+$j] := "Preset " & ($j+1) & " Cat " & ($i+1)
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  while ($i<4)
    set_control_par_str(%Engine__presetCategories[$i],$CONTROL_PAR_TEXT,"Category " & ($i+1))
    set_control_par(%Engine__presetCategories[$i],$CONTROL_PAR_POS_X,32)
    set_control_par(%Engine__presetCategories[$i],$CONTROL_PAR_POS_Y,0+($i*28)+26)
    set_control_par(%Engine__presetCategories[$i],$CONTROL_PAR_WIDTH,40)
    set_control_par(%Engine__presetCategories[$i],$CONTROL_PAR_HEIGHT,22)
    set_control_par_str(%Engine__presetCategories[$i],$CONTROL_PAR_PICTURE,"button1-Animated")
    set_control_par(%Engine__presetCategories[$i],$CONTROL_PAR_TEXTPOS_Y,5)
    set_control_par(%Engine__presetCategories[$i],$CONTROL_PAR_DISABLE_TEXT_SHIFTING,1)
    set_control_par(%Engine__presetCategories[$i],$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
    set_control_par(%Engine__presetCategories[$i],$CONTROL_PAR_TEXT_ALIGNMENT,0)
    set_control_par(%Engine__presetCategories[$i],$CONTROL_PAR_PARENT_PANEL,$Engine__presetBrowserPanelID)
    $i := $i+1
  end while
  $i := 0
  while ($i<7)
    set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+$i])
    set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_POS_X,182)
    set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_POS_Y,$i*28+26)
    set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_WIDTH,128)
    set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_HEIGHT,20)
    set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_PICTURE,"button2-Animated")
    set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
    set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_DISABLE_TEXT_SHIFTING,1)
    set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXTPOS_Y,4)
    set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT_ALIGNMENT,0)
    set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_PARENT_PANEL,$Engine__presetBrowserPanelID)
    $i := $i+1
  end while
  $i := 0
  set_control_par(get_ui_id($Engine__presetBrowserPanel),$CONTROL_PAR_PARENT_PANEL,$Engine__presetPanelID)
  move_control_px($Engine__nextPage,227,236)
  move_control_px($Engine__prevPage,182,236)
  set_control_par_str(get_ui_id($Engine__nextPage),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__prevPage),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__nextPage),$CONTROL_PAR_PICTURE,"/Buttons/10-10buttonArrowRight")
  set_control_par_str(get_ui_id($Engine__prevPage),$CONTROL_PAR_PICTURE,"/Buttons/10-10buttonArrowLeft")
  set_control_par(get_ui_id($Engine__nextPage),$CONTROL_PAR_PARENT_PANEL,$Engine__presetBrowserPanelID)
  set_control_par(get_ui_id($Engine__prevPage),$CONTROL_PAR_PARENT_PANEL,$Engine__presetBrowserPanelID)
  move_control_px($Engine__page0Button,197,236)
  move_control_px($Engine__page1Button,212,236)
  set_control_par(get_ui_id($Engine__page0Button),$CONTROL_PAR_VALUE,1)
  set_control_par_str(get_ui_id($Engine__page0Button),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__page0Button),$CONTROL_PAR_PICTURE,"/Buttons/10-10buttonPageCircle")
  set_control_par(get_ui_id($Engine__page0Button),$CONTROL_PAR_PARENT_PANEL,$Engine__presetBrowserPanelID)
  set_control_par_str(get_ui_id($Engine__page1Button),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__page1Button),$CONTROL_PAR_PICTURE,"/Buttons/10-10buttonPageCircle")
  set_control_par(get_ui_id($Engine__page1Button),$CONTROL_PAR_PARENT_PANEL,$Engine__presetBrowserPanelID)
  set_control_par(get_ui_id($Engine__presetBrowserBackground),$CONTROL_PAR_PARENT_PANEL,$Engine__presetBrowserPanelID)
  set_control_par(get_ui_id($Engine__presetBrowserBackground),$CONTROL_PAR_POS_X,0)
  set_control_par(get_ui_id($Engine__presetBrowserBackground),$CONTROL_PAR_POS_Y,0)
  set_control_par_str(get_ui_id($Engine__presetBrowserBackground),$CONTROL_PAR_PICTURE,"Browser-Background.png")
  set_control_par_str(get_ui_id($Engine__presetBrowserBackground),$CONTROL_PAR_TEXT,"")
  while ($i<4)
    set_control_par(%Engine__catLightUp[$i],$CONTROL_PAR_POS_X,16)
    set_control_par(%Engine__catLightUp[$i],$CONTROL_PAR_POS_Y,$i*28+37)
    set_control_par(%Engine__catLightUp[$i],$CONTROL_PAR_Z_LAYER,1)
    set_control_par_str(%Engine__catLightUp[$i],$CONTROL_PAR_TEXT,"")
    set_control_par_str(%Engine__catLightUp[$i],$CONTROL_PAR_PICTURE,"lightUpLabelSmall")
    set_control_par(%Engine__catLightUp[$i],$CONTROL_PAR_PARENT_PANEL,$Engine__presetBrowserPanelID)
    $i := $i+1
  end while
  $i := 0
  set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,1)
  move_control($Engine__timeVariation,3,3)
  move_control($Engine__Tempo_sync,1,3)
  move_control($Engine__rate_knob,2,3)
  move_control($Engine__particleDryWet,2,7)
  !Engine__noteClass[0] := "C"
  !Engine__noteClass[1] := "C#"
  !Engine__noteClass[2] := "D"
  !Engine__noteClass[3] := "D#"
  !Engine__noteClass[4] := "E"
  !Engine__noteClass[5] := "F"
  !Engine__noteClass[6] := "F#"
  !Engine__noteClass[7] := "G"
  !Engine__noteClass[8] := "G#"
  !Engine__noteClass[9] := "A"
  !Engine__noteClass[10] := "A#"
  !Engine__noteClass[11] := "B"
  !Engine__tempoNames[0] := "1/128"
  !Engine__tempoNames[1] := "1/64"
  !Engine__tempoNames[2] := "1/32"
  !Engine__tempoNames[3] := "1/16 T"
  !Engine__tempoNames[4] := "3/64"
  !Engine__tempoNames[5] := "1/16"
  !Engine__tempoNames[6] := "1/8 T"
  !Engine__tempoNames[7] := "3/32"
  !Engine__tempoNames[8] := "1/8"
  !Engine__tempoNames[9] := "1/4 T"
  !Engine__tempoNames[10] := "3/16"
  !Engine__tempoNames[11] := "1/4"
  !Engine__tempoNames[12] := "1/2 T"
  !Engine__tempoNames[13] := "3/8"
  !Engine__tempoNames[14] := "1/2"
  !Engine__tempoNames[15] := "3/4"
  !Engine__tempoNames[16] := "4/4"
  !Engine__tempoNames[17] := "Bar"
  set_control_par_str(get_ui_id($Engine__particleVariationSectionLabel),$CONTROL_PAR_TEXT,"Variation")
  set_control_par(get_ui_id($Engine__particleVariationSectionLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleVariationSectionLabel),$CONTROL_PAR_POS_X,325)
  set_control_par(get_ui_id($Engine__particleVariationSectionLabel),$CONTROL_PAR_POS_Y,80+100)
  set_control_par(get_ui_id($Engine__particleVariationSectionLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleVariationSectionLabel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  set_control_par_str(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_TEXT,"Time Variation")
  set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_POS_X,325-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[2]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__timeVariation),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__timeVariation),$CONTROL_PAR_VALUE,0)
  set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__timeVariation),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par(get_ui_id($Engine__timeVariation),$CONTROL_PAR_POS_X,325)
  set_control_par(get_ui_id($Engine__timeVariation),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[2])
  set_control_par_str(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_TEXT,"Octave Variation")
  set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_POS_X,325-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[3]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleOctave),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__particleOctave),$CONTROL_PAR_VALUE,0)
  set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__particleOctave),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par(get_ui_id($Engine__particleOctave),$CONTROL_PAR_POS_X,325)
  set_control_par(get_ui_id($Engine__particleOctave),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[3])
  set_control_par_str(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_TEXT,"Pan Variation")
  set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_POS_X,325-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[4]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleSpread),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__particleSpread),$CONTROL_PAR_VALUE,0)
  set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__particleSpread),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par(get_ui_id($Engine__particleSpread),$CONTROL_PAR_POS_X,325)
  set_control_par(get_ui_id($Engine__particleSpread),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[4])
  set_control_par_str(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_TEXT,"Volume Variation")
  set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_POS_X,325-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[5]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_VALUE,0)
  set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_POS_X,325)
  set_control_par(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[5])
  set_control_par_str(get_ui_id($Engine__particlePlaybackLabel),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__particlePlaybackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particlePlaybackLabel),$CONTROL_PAR_POS_X,81)
  set_control_par(get_ui_id($Engine__particlePlaybackLabel),$CONTROL_PAR_POS_Y,51)
  set_control_par(get_ui_id($Engine__particlePlaybackLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par_str(get_ui_id($Engine__particlePlaybackLabel),$CONTROL_PAR_PICTURE,"/Labels/PlaybackLabel.png")
  set_control_par_str(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_TEXT,"Overlap")
  set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_POS_X,81-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[0]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_VALUE,0)
  set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_POS_X,81)
  set_control_par(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[0])
  set_control_par(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
  set_control_par(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_POS_X,77)
  set_control_par(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[1]-14)
  set_control_par(get_ui_id($Engine__particleFXButton),$CONTROL_PAR_DEFAULT_VALUE,1)
  set_control_par_str(get_ui_id($Engine__particleFXButton),$CONTROL_PAR_PICTURE,"/Buttons/33-33fxTab")
  set_control_par(get_ui_id($Engine__particleFXButton),$CONTROL_PAR_VALUE,1)
  set_control_par(get_ui_id($Engine__particleFXButton),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par_str(get_ui_id($Engine__particleFXButton),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__particleFXButton),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleFXButton),$CONTROL_PAR_POS_X,117)
  set_control_par(get_ui_id($Engine__particleFXButton),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[1]-14)
  set_control_par_str(get_ui_id($Engine__particleStretchSectionLabel),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__particleStretchSectionLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleStretchSectionLabel),$CONTROL_PAR_POS_X,81)
  set_control_par(get_ui_id($Engine__particleStretchSectionLabel),$CONTROL_PAR_POS_Y,186)
  set_control_par(get_ui_id($Engine__particleStretchSectionLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par_str(get_ui_id($Engine__particleStretchSectionLabel),$CONTROL_PAR_PICTURE,"/Labels/StretchLabel.png")
  set_control_par(get_ui_id($Engine__particleStretchMode),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleStretchMode),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__particleStretchMode),$CONTROL_PAR_POS_X,81+137)
  set_control_par(get_ui_id($Engine__particleStretchMode),$CONTROL_PAR_POS_Y,216)
  set_control_par_str(get_ui_id($Engine__particleStretchMode),$CONTROL_PAR_PICTURE,"/Buttons/12-12buttonRadial")
  set_control_par_str(get_ui_id($Engine__particleStretchMode),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_TEXT,"Speed")
  set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_POS_X,81-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[3]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_DEFAULT_VALUE,500000)
  set_control_par(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_VALUE,500000)
  set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_POS_X,81)
  set_control_par(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[3])
  set_control_par_str(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_TEXT,"Formant")
  set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_POS_X,81-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[4]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_DEFAULT_VALUE,500000)
  set_control_par(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_VALUE,500000)
  set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_POS_X,81)
  set_control_par(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[4])
  set_control_par_str(get_ui_id($Engine__particleMainLabel),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__particleMainLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleMainLabel),$CONTROL_PAR_POS_X,325)
  set_control_par(get_ui_id($Engine__particleMainLabel),$CONTROL_PAR_POS_Y,52)
  set_control_par(get_ui_id($Engine__particleMainLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par_str(get_ui_id($Engine__particleMainLabel),$CONTROL_PAR_PICTURE,"/Labels/DropletsLabel.png")
  set_control_par(get_ui_id($Engine__particleMode),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleMode),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__particleMode),$CONTROL_PAR_POS_X,462)
  set_control_par(get_ui_id($Engine__particleMode),$CONTROL_PAR_POS_Y,79)
  set_control_par_str(get_ui_id($Engine__particleMode),$CONTROL_PAR_PICTURE,"/Buttons/12-12buttonRadial")
  set_control_par_str(get_ui_id($Engine__particleMode),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_TEXT,"Mix")
  set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_POS_X,325-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[0]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_DEFAULT_VALUE,63)
  set_control_par(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_VALUE,63)
  set_control_par(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
  set_control_par(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_POS_X,325)
  set_control_par(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[0])
  set_controller(104,0)
  set_control_par_str(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_TEXT,"Rate")
  set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_POS_X,325-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[1]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_DEFAULT_VALUE,200000)
  set_control_par(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_VALUE,200000)
  set_control_par(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_POS_X,325)
  set_control_par(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[1])
  set_control_par(get_ui_id($Engine__Tempo_sync),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__Tempo_sync),$CONTROL_PAR_DEFAULT_VALUE,0)
  set_control_par(get_ui_id($Engine__Tempo_sync),$CONTROL_PAR_VALUE,0)
  set_control_par_str(get_ui_id($Engine__Tempo_sync),$CONTROL_PAR_PICTURE,"/Buttons/13-13ClockButton")
  set_control_par(get_ui_id($Engine__Tempo_sync),$CONTROL_PAR_POS_X,360)
  set_control_par(get_ui_id($Engine__Tempo_sync),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[1]-$Engine__fxLabelAbove-1)
  set_control_par_str(get_ui_id($Engine__Tempo_sync),$CONTROL_PAR_TEXT,"")
  set_control_par_str(get_ui_id($Engine__particleADSRLabel),$CONTROL_PAR_TEXT,"")
  set_control_par(get_ui_id($Engine__particleADSRLabel),$CONTROL_PAR_POS_X,569)
  set_control_par(get_ui_id($Engine__particleADSRLabel),$CONTROL_PAR_POS_Y,51)
  set_control_par_str(get_ui_id($Engine__particleADSRLabel),$CONTROL_PAR_PICTURE,"/Labels/ADSRLabel.png")
  set_control_par(get_ui_id($Engine__particleADSRLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_DEFAULT_VALUE,47000)
  set_control_par(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_VALUE,47000)
  set_control_par(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_POS_X,569)
  set_control_par(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[0])
  set_control_par_str(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_TEXT,"Attack")
  set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_POS_X,569-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[0]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_DEFAULT_VALUE,10000)
  set_control_par(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_VALUE,10000)
  set_control_par(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_POS_X,569)
  set_control_par(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[1])
  set_control_par_str(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_TEXT,"Decay")
  set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_POS_X,569-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[1]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_DEFAULT_VALUE,1000000)
  set_control_par(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_VALUE,1000000)
  set_control_par(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_POS_X,569)
  set_control_par(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[2])
  set_control_par_str(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_TEXT,"Sustain")
  set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_POS_X,569-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[2]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_DEFAULT_VALUE,500000)
  set_control_par(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,2170)
  set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
  set_control_par(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_VALUE,500000)
  set_control_par(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_POS_X,569)
  set_control_par(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[3])
  set_control_par_str(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_TEXT,"Release")
  set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_POS_X,569-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[3]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_DEFAULT_VALUE,500000)
  set_control_par(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_MOUSE_BEHAVIOUR,-600)
  set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
  set_control_par(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_VALUE,500000)
  set_control_par(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_POS_X,569)
  set_control_par(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[4]+6)
  set_control_par_str(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_TEXT,"Attack Curve")
  set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
  set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_POS_X,569-$Engine__fxLabelTextOffsetX)
  set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_POS_Y,%Engine__particleTabSpacingY[4]-$Engine__fxLabelAbove)
  set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_HIDE,$HIDE_PART_BG)
  set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_PARENT_PANEL,$Engine__particleTabPanelID)
  while ($i<11)
    set_control_par(%Engine__randomPPLocks[$i],$CONTROL_PAR_POS_X,$i*60+75)
    set_control_par(%Engine__randomPPLocks[$i],$CONTROL_PAR_POS_Y,220)
    set_control_par(%Engine__randomPPLocks[$i],$CONTROL_PAR_HEIGHT,50)
    set_control_par(%Engine__randomPPLocks[$i],$CONTROL_PAR_WIDTH,50)
    set_control_par(%Engine__randomFFLocks[$i],$CONTROL_PAR_POS_X,$i*60+75)
    set_control_par(%Engine__randomFFLocks[$i],$CONTROL_PAR_POS_Y,160)
    set_control_par(%Engine__randomFFLocks[$i],$CONTROL_PAR_HEIGHT,50)
    set_control_par(%Engine__randomFFLocks[$i],$CONTROL_PAR_WIDTH,50)
    set_control_par(%Engine__randomPPLocks[$i],$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
    set_control_par(%Engine__randomFFLocks[$i],$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
    set_control_par(%Engine__randomPPLocks[$i],$CONTROL_PAR_DISABLE_TEXT_SHIFTING,1)
    set_control_par(%Engine__randomFFLocks[$i],$CONTROL_PAR_DISABLE_TEXT_SHIFTING,1)
    set_control_par(%Engine__randomPPLocks[$i],$CONTROL_PAR_PARENT_PANEL,$Engine__ranTabPanelID)
    set_control_par(%Engine__randomFFLocks[$i],$CONTROL_PAR_PARENT_PANEL,$Engine__ranTabPanelID)
    set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_TEXT,"")
    set_control_par_str(%Engine__randomFFLocks[$i],$CONTROL_PAR_TEXT,"")
    set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
    set_control_par_str(%Engine__randomFFLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
    $i := $i+1
  end while
  $i := 0
  set_control_par(%Engine__lockRow[0],$CONTROL_PAR_POS_X,40)
  set_control_par(%Engine__lockRow[0],$CONTROL_PAR_POS_Y,231)
  set_control_par(%Engine__lockRow[1],$CONTROL_PAR_POS_X,40)
  set_control_par(%Engine__lockRow[1],$CONTROL_PAR_POS_Y,171)
  set_control_par_str(%Engine__lockRow[0],$CONTROL_PAR_PICTURE,"Lock-Button-Animated-Small")
  set_control_par_str(%Engine__lockRow[1],$CONTROL_PAR_PICTURE,"Lock-Button-Animated-Small")
  set_control_par_str(%Engine__lockRow[0],$CONTROL_PAR_TEXT,"")
  set_control_par_str(%Engine__lockRow[1],$CONTROL_PAR_TEXT,"")
  set_control_par(%Engine__lockRow[0],$CONTROL_PAR_PARENT_PANEL,$Engine__ranTabPanelID)
  set_control_par(%Engine__lockRow[1],$CONTROL_PAR_PARENT_PANEL,$Engine__ranTabPanelID)
  set_control_par(%Engine__lockRow[0],$CONTROL_PAR_HEIGHT,28)
  set_control_par(%Engine__lockRow[1],$CONTROL_PAR_HEIGHT,28)
  while ($i<11)
    set_control_par(%Engine__lightUp[$i],$CONTROL_PAR_POS_X,$i*60+90)
    set_control_par(%Engine__lightUp[$i],$CONTROL_PAR_POS_Y,220+60)
    set_control_par_str(%Engine__lightUp[$i],$CONTROL_PAR_TEXT,"")
    set_control_par_str(%Engine__lightUp[$i],$CONTROL_PAR_PICTURE,"lightUpLabel")
    set_control_par(%Engine__lightUp[$i],$CONTROL_PAR_PARENT_PANEL,$Engine__ranTabPanelID)
    $i := $i+1
  end while
  $i := 0
  move_control_px($Engine__ADSRPanel,100,200)
  move_control_px($Engine__tabsPanel,322,16)
  move_control_px($Engine__presetPanel,26,16)
  move_control_px($Engine__presetBrowserPanel,0,26)
  move_control_px($Engine__statePanel,0,0)
  set_control_par(get_ui_id($Engine__PresetBrowserPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  while ($i<22)
    %GuiCallBacks__variableSettingsSave[$i] := %Engine__lockedRandomizers[$i]
    $i := $i+1
  end while
  $i := 0
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
  %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
  %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
  %GuiCallBacks__variableSettingsSave[26] := $Engine__delay_time
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %GuiCallBacks__variableSettingsSave[27+$l] := %Engine___currentPresetState[2*7*$i+(2*$j)+$k]
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  declare const $UserZone__userZoneSize := 66
  set_num_user_zones($UserZone__userZoneSize)
  while ($i<$UserZone__userZoneSize)
    select ($i)
      case 0 to 10
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_GROUP,0)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_VELO,128)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_ROOT_KEY,25+(7*$i))
      case 11 to 21
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_GROUP,1)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_VELO,128)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11)))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_ROOT_KEY,25+(7*($i-11)))
      case 22 to 32
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_GROUP,2)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_VELO,128)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22)))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_ROOT_KEY,25+(7*($i-22)))
      case 33 to 43
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_GROUP,3)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_VELO,128)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33)))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_ROOT_KEY,25+(7*($i-33)))
      case 44 to 54
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_GROUP,4)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_VELO,128)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44)))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_ROOT_KEY,25+(7*($i-44)))
      case 55 to 65
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_GROUP,5)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_VELO,128)
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55)))
        set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_ROOT_KEY,25+(7*($i-55)))
    end select
    $i := $i+1
  end while
  $i := 0
  declare !_atmosSamplePaths[$Engine__num_unique_samples*22]
  declare const $atmosSamplePaths__SIZE_D1 := $Engine__num_unique_samples
  declare const $atmosSamplePaths__SIZE_D2 := 22
  declare !zoneNoteNames[11]
  !zoneNoteNames[0] := "Db0"
  !zoneNoteNames[1] := "Ab0"
  !zoneNoteNames[2] := "Eb1"
  !zoneNoteNames[3] := "Bb1"
  !zoneNoteNames[4] := "F2"
  !zoneNoteNames[5] := "C3"
  !zoneNoteNames[6] := "G3"
  !zoneNoteNames[7] := "D4"
  !zoneNoteNames[8] := "A4"
  !zoneNoteNames[9] := "E5"
  !zoneNoteNames[10] := "B5"
  declare @tmpNum
  while ($i<$Engine__num_unique_samples)
    if ($i<9)
      @tmpNum := "00" & ($i+1)
    end if
    if ($i<100 and ($i>=9))
      @tmpNum := "0" & ($i+1)
    end if
    while ($j<11)
      !_atmosSamplePaths[22*$i+$j] := "Resources/Samples/MyntianWG_" & !zoneNoteNames[$j] & "_PP_" & @tmpNum & ".wav"
      $j := $j+1
    end while
    $j := 11
    while ($j<22)
      !_atmosSamplePaths[22*$i+$j] := "Resources/Samples/MyntianWG_" & !zoneNoteNames[$j-11] & "_FF_" & @tmpNum & ".wav"
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  while ($i<22)
    set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*0+$i])
    %GuiCallBacks__samplePathsIndexState[$i] := 0
    %GuiCallBacks__preSamplePathsIndexState[$i] := 0
    if ($i<11)
      select (%GuiCallBacks__samplePathsIndexState[$i])
        case 0
          set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
        case 1
          set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SaturnButton")
        case 2
          set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/FishButton")
        case 3
          set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/DropButton")
      end select
    else
      select (%GuiCallBacks__samplePathsIndexState[$i])
        case 0
          set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
        case 1
          set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/FireButton")
        case 2
          set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SnowflakeButton")
        case 3
          set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/BonfireButton")
      end select
    end if
    $i := $i+1
  end while
  while ($i<44)
    set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*0+($i-22)])
    if ($i<22)
      %GuiCallBacks__samplePathsIndexState[$i] := 0
      %GuiCallBacks__preSamplePathsIndexState[$i] := 0
    end if
    $i := $i+1
  end while
  $i := 0
  while ($i<44)
    set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_MODE,1)
    set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_START,48000)
    set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_LENGTH,384000-48000)
    set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_XFADE,2000)
    $i := $i+1
  end while
  $i := 0
  declare %KeyColor__key_color[128]
  $i := 0
  while ($i<=127)
    %KeyColor__key_color[$i] := $KEY_COLOR_NONE
    inc($i)
  end while
  $i := 19
  while ($i<=(25+(7*0)))
    %KeyColor__key_color[$i] := $KEY_COLOR_FUCHSIA
    inc($i)
  end while
  while ($i<=(25+(7*1)))
    %KeyColor__key_color[$i] := $KEY_COLOR_GREEN
    inc($i)
  end while
  while ($i<=(25+(7*2)))
    %KeyColor__key_color[$i] := $KEY_COLOR_FUCHSIA
    inc($i)
  end while
  while ($i<=(25+(7*3)))
    %KeyColor__key_color[$i] := $KEY_COLOR_GREEN
    inc($i)
  end while
  while ($i<=(25+(7*4)))
    %KeyColor__key_color[$i] := $KEY_COLOR_FUCHSIA
    inc($i)
  end while
  while ($i<=(25+(7*5)))
    %KeyColor__key_color[$i] := $KEY_COLOR_GREEN
    inc($i)
  end while
  while ($i<=(25+(7*6)))
    %KeyColor__key_color[$i] := $KEY_COLOR_FUCHSIA
    inc($i)
  end while
  while ($i<=(25+(7*7)))
    %KeyColor__key_color[$i] := $KEY_COLOR_GREEN
    inc($i)
  end while
  while ($i<=(25+(7*8)))
    %KeyColor__key_color[$i] := $KEY_COLOR_FUCHSIA
    inc($i)
  end while
  while ($i<=(25+(7*9)))
    %KeyColor__key_color[$i] := $KEY_COLOR_GREEN
    inc($i)
  end while
  while ($i<=(25+(7*10)))
    %KeyColor__key_color[$i] := $KEY_COLOR_FUCHSIA
    inc($i)
  end while
  $i := 0
  while ($i<128)
    if ($i<19)
      set_key_color($i,$KEY_COLOR_NONE)
    end if
    if ($i>=19 and ($i<=(25+(7*10))))
      set_key_color($i,%KeyColor__key_color[$i])
    end if
    if ($i>(25+(7*10)))
      set_key_color($i,$KEY_COLOR_NONE)
    end if
    inc($i)
  end while
  $i := 0
  while ($i<$GuiCallBacks__numUIElements)
    $i := $i+1
  end while
  $i := 0
  set_listener($NI_SIGNAL_TIMER_MS,100000)
  watch_array_idx(%Engine__presetColumn,0)
  watch_array_idx(%Engine__presetColumn,1)
  watch_array_idx(%Engine__presetColumn,2)
  watch_array_idx(%Engine__presetColumn,3)
  watch_array_idx(%Engine__presetColumn,4)
  watch_array_idx(%Engine__presetColumn,5)
  watch_array_idx(%Engine__presetColumn,6)
end on

function setLoopModes
  $i := 0
  $j := 0
  if ($Engine__reverseModeButton=0)
    while ($i<22)
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_MODE,1)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i+22],0,$LOOP_PAR_MODE,1)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_START,48000)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i+22],0,$LOOP_PAR_START,48000)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_LENGTH,384000-50000)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i+22],0,$LOOP_PAR_LENGTH,384000-50000)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_XFADE,2000)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i+22],0,$LOOP_PAR_XFADE,2000)
      $j := $j+1
      $i := $i+1
    end while
    $i := 0
    $j := 0
  end if
  if ($Engine__reverseModeButton=1)
    while ($i<22)
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_MODE,2)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i+22],0,$LOOP_PAR_MODE,2)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_START,48000/2)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i+22],0,$LOOP_PAR_START,48000/2)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_LENGTH,384000-50000)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i+22],0,$LOOP_PAR_LENGTH,384000-50000)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i],0,$LOOP_PAR_XFADE,2000)
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_loop_par(%NI_USER_ZONE_IDS[$i+22],0,$LOOP_PAR_XFADE,2000)
      $j := $j+1
      $i := $i+1
    end while
    $i := 0
    $j := 0
  end if
  while (%GuiCallBacks__async_ID[$i]>-1)
    wait_async(%GuiCallBacks__async_ID[$i])
    $i := $i+1
  end while
  $i := 0
  while ($i<256)
    %GuiCallBacks__async_ID[$i] := -1
    $i := $i+1
  end while
  $i := 0
end function

on persistence_changed
  $i := 0
  $j := 0
  $k := 0
  $l := 0
  $loadArrayIterator := 0
  $listenerIterator := 0
  @GuiCallBacks__basepath := get_folder($GET_FOLDER_PATCH_DIR)
end on

on note
  $Engine__noteIsOn := 1
  if ($Engine__noteIsOn=1)
    select ($EVENT_NOTE)
      case 19 to 25
        %Engine__notesPlayingPerZone[0] := %Engine__notesPlayingPerZone[0]+1
        set_control_par(%Engine__lightUp[0],$CONTROL_PAR_PICTURE_STATE,1)
      case 26 to 32
        %Engine__notesPlayingPerZone[1] := %Engine__notesPlayingPerZone[1]+1
        set_control_par(%Engine__lightUp[1],$CONTROL_PAR_PICTURE_STATE,1)
      case 33 to 39
        %Engine__notesPlayingPerZone[2] := %Engine__notesPlayingPerZone[2]+1
        set_control_par(%Engine__lightUp[2],$CONTROL_PAR_PICTURE_STATE,1)
      case 40 to 46
        %Engine__notesPlayingPerZone[3] := %Engine__notesPlayingPerZone[3]+1
        set_control_par(%Engine__lightUp[3],$CONTROL_PAR_PICTURE_STATE,1)
      case 47 to 53
        %Engine__notesPlayingPerZone[4] := %Engine__notesPlayingPerZone[4]+1
        set_control_par(%Engine__lightUp[4],$CONTROL_PAR_PICTURE_STATE,1)
      case 54 to 60
        %Engine__notesPlayingPerZone[5] := %Engine__notesPlayingPerZone[5]+1
        set_control_par(%Engine__lightUp[5],$CONTROL_PAR_PICTURE_STATE,1)
      case 61 to 67
        %Engine__notesPlayingPerZone[6] := %Engine__notesPlayingPerZone[6]+1
        set_control_par(%Engine__lightUp[6],$CONTROL_PAR_PICTURE_STATE,1)
      case 68 to 74
        %Engine__notesPlayingPerZone[7] := %Engine__notesPlayingPerZone[7]+1
        set_control_par(%Engine__lightUp[7],$CONTROL_PAR_PICTURE_STATE,1)
      case 75 to 81
        %Engine__notesPlayingPerZone[8] := %Engine__notesPlayingPerZone[8]+1
        set_control_par(%Engine__lightUp[8],$CONTROL_PAR_PICTURE_STATE,1)
      case 82 to 88
        %Engine__notesPlayingPerZone[9] := %Engine__notesPlayingPerZone[9]+1
        set_control_par(%Engine__lightUp[9],$CONTROL_PAR_PICTURE_STATE,1)
      case 89 to 95
        %Engine__notesPlayingPerZone[10] := %Engine__notesPlayingPerZone[10]+1
        set_control_par(%Engine__lightUp[10],$CONTROL_PAR_PICTURE_STATE,1)
    end select
  else
    select ($EVENT_NOTE)
      case 19 to 25
        %Engine__notesPlayingPerZone[0] := %Engine__notesPlayingPerZone[0]-1
        if (%Engine__notesPlayingPerZone[0]=0)
          set_control_par(%Engine__lightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 26 to 32
        %Engine__notesPlayingPerZone[1] := %Engine__notesPlayingPerZone[1]-1
        if (%Engine__notesPlayingPerZone[1]=0)
          set_control_par(%Engine__lightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 33 to 39
        %Engine__notesPlayingPerZone[2] := %Engine__notesPlayingPerZone[2]-1
        if (%Engine__notesPlayingPerZone[2]=0)
          set_control_par(%Engine__lightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 40 to 46
        %Engine__notesPlayingPerZone[3] := %Engine__notesPlayingPerZone[3]-1
        if (%Engine__notesPlayingPerZone[3]=0)
          set_control_par(%Engine__lightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 47 to 53
        %Engine__notesPlayingPerZone[4] := %Engine__notesPlayingPerZone[4]-1
        if (%Engine__notesPlayingPerZone[4]=0)
          set_control_par(%Engine__lightUp[4],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 54 to 60
        %Engine__notesPlayingPerZone[5] := %Engine__notesPlayingPerZone[5]-1
        if (%Engine__notesPlayingPerZone[5]=0)
          set_control_par(%Engine__lightUp[5],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 61 to 67
        %Engine__notesPlayingPerZone[6] := %Engine__notesPlayingPerZone[6]-1
        if (%Engine__notesPlayingPerZone[6]=0)
          set_control_par(%Engine__lightUp[6],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 68 to 74
        %Engine__notesPlayingPerZone[7] := %Engine__notesPlayingPerZone[7]-1
        if (%Engine__notesPlayingPerZone[7]=0)
          set_control_par(%Engine__lightUp[7],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 75 to 81
        %Engine__notesPlayingPerZone[8] := %Engine__notesPlayingPerZone[8]-1
        if (%Engine__notesPlayingPerZone[8]=0)
          set_control_par(%Engine__lightUp[8],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 82 to 88
        %Engine__notesPlayingPerZone[9] := %Engine__notesPlayingPerZone[9]-1
        if (%Engine__notesPlayingPerZone[9]=0)
          set_control_par(%Engine__lightUp[9],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 89 to 95
        %Engine__notesPlayingPerZone[10] := %Engine__notesPlayingPerZone[10]-1
        if (%Engine__notesPlayingPerZone[10]=0)
          set_control_par(%Engine__lightUp[10],$CONTROL_PAR_PICTURE_STATE,0)
        end if
    end select
  end if
  ignore_event($EVENT_ID)
  if ($Engine__reverseModeButton=0)
    set_controller(102,random(0,100))
  end if
  if ($Engine__reverseModeButton=1)
    set_controller(102,random(50,100))
  end if
  if ($Engine__particleMode=1)
    disallow_group(2)
    disallow_group(3)
    $Engine__new_id := play_note($EVENT_NOTE,$EVENT_VELOCITY,0,-1)
    allow_group(2)
    allow_group(3)
    disallow_group(0)
    disallow_group(1)
    if ($Engine__Tempo_sync=0)
      $Engine__delay_time := $Engine__Free_knob*1000
      %GuiCallBacks__variableSettingsSave[26] := $Engine__delay_time
    else
      select ($Engine__Sync_knob)
        case 0
          $Engine__delay_time := $DURATION_SIXTEENTH/8
        case 1
          $Engine__delay_time := $DURATION_SIXTEENTH/4
        case 2
          $Engine__delay_time := $DURATION_SIXTEENTH/2
        case 3
          $Engine__delay_time := $DURATION_QUARTER/6
        case 4
          $Engine__delay_time := $DURATION_SIXTEENTH/4*3
        case 5
          $Engine__delay_time := $DURATION_SIXTEENTH
        case 6
          $Engine__delay_time := $DURATION_QUARTER/3
        case 7
          $Engine__delay_time := $DURATION_SIXTEENTH/2*3
        case 8
          $Engine__delay_time := $DURATION_EIGHTH
        case 9
          $Engine__delay_time := $DURATION_QUARTER*2/3
        case 10
          $Engine__delay_time := $DURATION_SIXTEENTH*3
        case 11
          $Engine__delay_time := $DURATION_QUARTER
        case 12
          $Engine__delay_time := $DURATION_QUARTER*4/3
        case 13
          $Engine__delay_time := $DURATION_EIGHTH*3
        case 14
          $Engine__delay_time := $DURATION_QUARTER*2
        case 15
          $Engine__delay_time := $DURATION_QUARTER*3
        case 16
          $Engine__delay_time := $DURATION_QUARTER*4
        case 17
          if ($DURATION_BAR=0)
            $Engine__delay_time := $DURATION_QUARTER*4
          else
            $Engine__delay_time := $DURATION_BAR
          end if
      end select
    end if
    $Engine__timeVarCeiling := random(0,2*real_to_int(int_to_real($Engine__timeVariation)/100.0*int_to_real($Engine__delay_time)))
    wait($Engine__delay_time+$Engine__timeVarCeiling)
    while ($NOTE_HELD=1)
      $Engine__art_id := play_note($EVENT_NOTE,$EVENT_VELOCITY,0,-1)
      if ($Engine__particleOctave=1)
        change_tune($Engine__art_id,1200000*random(0,1),1)
      end if
      if ($Engine__particleOctave=2)
        $Engine__numberChooser := random(0,2)
        select ($Engine__numberChooser)
          case 1
            change_tune($Engine__art_id,1200000,1)
          case 2
            change_tune($Engine__art_id,2400000,1)
        end select
      end if
      change_pan($Engine__art_id,random($Engine__particleSpread*-1,$Engine__particleSpread),1)
      change_vol($Engine__art_id,random($Engine__particleVolVariation*-1,0),1)
      $Engine__timeVarCeiling := random(0,2*real_to_int(int_to_real($Engine__timeVariation)/100.0*int_to_real($Engine__delay_time)))
      if ($Engine__Tempo_sync=0)
        wait($Engine__delay_time+$Engine__timeVarCeiling)
      else
        if ($Engine__timeVarCeiling<=$Engine__delay_time)
          $Engine__timeVarCeiling := 0
        else
          $Engine__timeVarCeiling := $Engine__delay_time
        end if
        wait($Engine__delay_time+$Engine__timeVarCeiling)
      end if
      note_off($Engine__art_id)
    end while
    allow_group(0)
    allow_group(1)
  else
    allow_group(0)
    allow_group(1)
    disallow_group(2)
    disallow_group(3)
    $Engine__new_id := play_note($EVENT_NOTE,$EVENT_VELOCITY,0,-1)
  end if
end on

on release
  if ($Engine__particleMode=1)
  else
    if ($Engine__finishDecayButton=1)
      if ($Engine__decayKnob<650000)
        wait($Engine__decayKnob+$Engine__attackKnob)
      end if
      if ($Engine__decayKnob>=650000 and ($Engine__decayKnob<730000))
        wait(($Engine__decayKnob+$Engine__attackKnob)*2)
      end if
    end if
  end if
  note_off($Engine__new_id)
  note_off($Engine__art_id)
  $Engine__noteIsOn := 0
  if ($Engine__noteIsOn=1)
    select ($EVENT_NOTE)
      case 19 to 25
        %Engine__notesPlayingPerZone[0] := %Engine__notesPlayingPerZone[0]+1
        set_control_par(%Engine__lightUp[0],$CONTROL_PAR_PICTURE_STATE,1)
      case 26 to 32
        %Engine__notesPlayingPerZone[1] := %Engine__notesPlayingPerZone[1]+1
        set_control_par(%Engine__lightUp[1],$CONTROL_PAR_PICTURE_STATE,1)
      case 33 to 39
        %Engine__notesPlayingPerZone[2] := %Engine__notesPlayingPerZone[2]+1
        set_control_par(%Engine__lightUp[2],$CONTROL_PAR_PICTURE_STATE,1)
      case 40 to 46
        %Engine__notesPlayingPerZone[3] := %Engine__notesPlayingPerZone[3]+1
        set_control_par(%Engine__lightUp[3],$CONTROL_PAR_PICTURE_STATE,1)
      case 47 to 53
        %Engine__notesPlayingPerZone[4] := %Engine__notesPlayingPerZone[4]+1
        set_control_par(%Engine__lightUp[4],$CONTROL_PAR_PICTURE_STATE,1)
      case 54 to 60
        %Engine__notesPlayingPerZone[5] := %Engine__notesPlayingPerZone[5]+1
        set_control_par(%Engine__lightUp[5],$CONTROL_PAR_PICTURE_STATE,1)
      case 61 to 67
        %Engine__notesPlayingPerZone[6] := %Engine__notesPlayingPerZone[6]+1
        set_control_par(%Engine__lightUp[6],$CONTROL_PAR_PICTURE_STATE,1)
      case 68 to 74
        %Engine__notesPlayingPerZone[7] := %Engine__notesPlayingPerZone[7]+1
        set_control_par(%Engine__lightUp[7],$CONTROL_PAR_PICTURE_STATE,1)
      case 75 to 81
        %Engine__notesPlayingPerZone[8] := %Engine__notesPlayingPerZone[8]+1
        set_control_par(%Engine__lightUp[8],$CONTROL_PAR_PICTURE_STATE,1)
      case 82 to 88
        %Engine__notesPlayingPerZone[9] := %Engine__notesPlayingPerZone[9]+1
        set_control_par(%Engine__lightUp[9],$CONTROL_PAR_PICTURE_STATE,1)
      case 89 to 95
        %Engine__notesPlayingPerZone[10] := %Engine__notesPlayingPerZone[10]+1
        set_control_par(%Engine__lightUp[10],$CONTROL_PAR_PICTURE_STATE,1)
    end select
  else
    select ($EVENT_NOTE)
      case 19 to 25
        %Engine__notesPlayingPerZone[0] := %Engine__notesPlayingPerZone[0]-1
        if (%Engine__notesPlayingPerZone[0]=0)
          set_control_par(%Engine__lightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 26 to 32
        %Engine__notesPlayingPerZone[1] := %Engine__notesPlayingPerZone[1]-1
        if (%Engine__notesPlayingPerZone[1]=0)
          set_control_par(%Engine__lightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 33 to 39
        %Engine__notesPlayingPerZone[2] := %Engine__notesPlayingPerZone[2]-1
        if (%Engine__notesPlayingPerZone[2]=0)
          set_control_par(%Engine__lightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 40 to 46
        %Engine__notesPlayingPerZone[3] := %Engine__notesPlayingPerZone[3]-1
        if (%Engine__notesPlayingPerZone[3]=0)
          set_control_par(%Engine__lightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 47 to 53
        %Engine__notesPlayingPerZone[4] := %Engine__notesPlayingPerZone[4]-1
        if (%Engine__notesPlayingPerZone[4]=0)
          set_control_par(%Engine__lightUp[4],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 54 to 60
        %Engine__notesPlayingPerZone[5] := %Engine__notesPlayingPerZone[5]-1
        if (%Engine__notesPlayingPerZone[5]=0)
          set_control_par(%Engine__lightUp[5],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 61 to 67
        %Engine__notesPlayingPerZone[6] := %Engine__notesPlayingPerZone[6]-1
        if (%Engine__notesPlayingPerZone[6]=0)
          set_control_par(%Engine__lightUp[6],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 68 to 74
        %Engine__notesPlayingPerZone[7] := %Engine__notesPlayingPerZone[7]-1
        if (%Engine__notesPlayingPerZone[7]=0)
          set_control_par(%Engine__lightUp[7],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 75 to 81
        %Engine__notesPlayingPerZone[8] := %Engine__notesPlayingPerZone[8]-1
        if (%Engine__notesPlayingPerZone[8]=0)
          set_control_par(%Engine__lightUp[8],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 82 to 88
        %Engine__notesPlayingPerZone[9] := %Engine__notesPlayingPerZone[9]-1
        if (%Engine__notesPlayingPerZone[9]=0)
          set_control_par(%Engine__lightUp[9],$CONTROL_PAR_PICTURE_STATE,0)
        end if
      case 89 to 95
        %Engine__notesPlayingPerZone[10] := %Engine__notesPlayingPerZone[10]-1
        if (%Engine__notesPlayingPerZone[10]=0)
          set_control_par(%Engine__lightUp[10],$CONTROL_PAR_PICTURE_STATE,0)
        end if
    end select
  end if
end on

on controller
  select ($CC_NUM)
    case 1
      $Engine__mainKnobMod := %CC[1]
      select (37)
        case 0
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 0
        case 1
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 1
        case 2
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 2
        case 3
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 3
        case 4
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 4
        case 5
          call setLoopModes
        case 7
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (0=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 5
        case 30
          if ($Engine__lockRow0=1)
            %Engine__numCurrentLocks[0] := 11
            $Engine__randomPPLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 1
              %GuiCallBacks__variableSettingsSave[$i] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[0] := 0
            $Engine__randomPPLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 0
              %GuiCallBacks__variableSettingsSave[$i] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
        case 31
          if ($Engine__lockRow1=1)
            %Engine__numCurrentLocks[1] := 11
            $Engine__randomFFLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 1
              %GuiCallBacks__variableSettingsSave[$i+11] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[1] := 0
            $Engine__randomFFLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 0
              %GuiCallBacks__variableSettingsSave[$i+11] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
        case 32
          reset_ksp_timer
          set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
          $Engine__lastUIChange := 6
        case 33
          reset_ksp_timer
          $Engine__lastUIChange := 7
          set_text($Engine__footerLabels1,"test2")
        case 34
          reset_ksp_timer
          $Engine__lastUIChange := 8
        case 35
          reset_ksp_timer
          $Engine__lastUIChange := 9
          set_text($Engine__footerLabels3,"test4")
        case 36
          reset_ksp_timer
          $Engine__lastUIChange := 10
          set_text($Engine__footerLabels4,"test5")
        case 37
          set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_controller(103,$Engine__mainKnobMod)
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
        case 38
          if ($Engine__particleMode=0)
            set_controller(104,0)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          else
            set_controller(104,$Engine__particleDryWet)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            if ($Engine__particleStretchMode=1)
              set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
              set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            end if
          end if
        case 39
          if ($Engine__Tempo_sync=0)
            $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
          else
            $Engine__Rate_knob := $Engine__sync_knob*1000001/17
          end if
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 40
          if ($Engine__particleMode=1)
            set_controller(104,$Engine__particleDryWet)
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 11
          set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
        case 41
          if ($Engine__Tempo_sync=0)
            $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
            %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
          else
            $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
            %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 12
          set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 42
          reset_ksp_timer
          $Engine__lastUIChange := 13
          set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
        case 43
          if ($Engine__eqOnOff=0)
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
            end if
          end if
        case 44
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 14
        case 45
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 15
        case 46
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 16
        case 47
          if ($Engine__bitcrushOnOff=0)
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
            end if
          end if
        case 48
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 17
        case 49
          if ($Engine__delayOnOff=0)
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
            end if
          end if
        case 50
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 18
        case 51
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 19
        case 52
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 20
        case 53
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
        case 54
          if ($Engine__reverbOnOff=0)
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
            end if
          end if
        case 55
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 21
        case 56
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 22
        case 57
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
        case 58
          reset_ksp_timer
          $Engine__lastUIChange := 23
          set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
        case 59
          reset_ksp_timer
          $Engine__lastUIChange := 24
          set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
        case 60
          reset_ksp_timer
          $Engine__lastUIChange := 25
          set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
        case 61
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (1=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 26
          set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
        case 63
          if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          else
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          end if
        case 64
          reset_ksp_timer
          $Engine__lastUIChange := 27
          set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
        case 65
          reset_ksp_timer
          $Engine__lastUIChange := 28
          set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
        case 66
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 29
        case 67
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 30
        case 68
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 31
        case 69
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 32
        case 70
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 33
        case 71
          if ($Engine__particleFXButton=0)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
            if ($Engine__bitcrushOnOff=0)
              set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__eqOnOff=0)
              set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__delayOnOff=0)
              set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__reverbOnOff=0)
              set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
          else
            if ($Engine__particleFXButton=1)
              if ($Engine__bitcrushOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__eqOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__delayOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__reverbOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
              end if
            end if
          end if
        case 72
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 34
      end select
    case 102 to 112
      ignore_controller
  end select
end on

on async_complete
  if ($NI_ASYNC_ID=%GuiCallBacks__loadPresetArrayID[0])
    %GuiCallBacks__loadPresetArrayID[0] := -1
  end if
  if ($NI_ASYNC_ID=%GuiCallBacks__loadPresetArrayID[1])
    %GuiCallBacks__loadPresetArrayID[1] := -1
  end if
  if ($NI_ASYNC_ID=%GuiCallBacks__loadPresetArrayID[2])
    %GuiCallBacks__loadPresetArrayID[2] := -1
  end if
end on

on listener
  while ($listenerIterator<$Engine__numDynamicLabels)
    if ($Engine__lastUIChange # $listenerIterator)
      %Engine__listenerCalls[$listenerIterator] := %Engine__listenerCalls[$listenerIterator]+1
    else
      %Engine__listenerCalls[$listenerIterator] := 0
    end if
    $listenerIterator := $listenerIterator+1
  end while
  $listenerIterator := 0
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 0 and (%Engine__listenerCalls[0]>3)))
    set_text($Engine__attackLabel,"Attack")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 1 and (%Engine__listenerCalls[1]>3)))
    set_text($Engine__decayLabel,"Decay")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 2 and (%Engine__listenerCalls[2]>3)))
    set_text($Engine__sustainLabel,"Sustain")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 3 and (%Engine__listenerCalls[3]>3)))
    set_text($Engine__releaseLabel,"Release")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 4 and (%Engine__listenerCalls[4]>3)))
    set_text($Engine__attackCurveLabel,"Attack Curve")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 5 and (%Engine__listenerCalls[5]>3)))
    set_text($Engine__crossfadeLabel,"Overlap")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 6 and (%Engine__listenerCalls[6]>3)))
    set_text($Engine__footerLabels0,"Overlap")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 7 and (%Engine__listenerCalls[7]>3)))
    set_text($Engine__footerLabels1,"Bitcrush")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 8 and (%Engine__listenerCalls[8]>3)))
    set_text($Engine__footerLabels2,"Droplets")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 9 and (%Engine__listenerCalls[9]>3)))
    set_text($Engine__footerLabels3,"Delay")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 10 and (%Engine__listenerCalls[10]>3)))
    set_text($Engine__footerLabels4,"Reverb")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 11 and (%Engine__listenerCalls[11]>3)))
    set_text($Engine__particleMixLabel,"Mix")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 12 and (%Engine__listenerCalls[12]>3)))
    set_text($Engine__particleRateLabel,"Rate")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 13 and (%Engine__listenerCalls[13]>3)))
    set_text($Engine__particleVariationLabel,"Time Variation")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 14 and (%Engine__listenerCalls[14]>3)))
    set_text($Engine__highShelfLabel,"High Shelf")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 15 and (%Engine__listenerCalls[15]>3)))
    set_text($Engine__midBandLabel,"Mid Band")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 16 and (%Engine__listenerCalls[16]>3)))
    set_text($Engine__lowShelfLabel,"Low Shelf")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 17 and (%Engine__listenerCalls[17]>3)))
    set_text($Engine__sampleRateLabel,"Sample Rate")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 18 and (%Engine__listenerCalls[18]>3)))
    set_text($Engine__delayRateLabel,"Rate")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 19 and (%Engine__listenerCalls[19]>3)))
    set_text($Engine__delayFeedbackLabel,"Feedback")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 20 and (%Engine__listenerCalls[20]>3)))
    set_text($Engine__delayMixLabel,"Mix")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 21 and (%Engine__listenerCalls[21]>3)))
    set_text($Engine__reverbDecayLabel,"Decay")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 22 and (%Engine__listenerCalls[22]>3)))
    set_text($Engine__reverbMixLabel,"Mix")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 23 and (%Engine__listenerCalls[23]>3)))
    set_text($Engine__particleOctaveLabel,"Octave Variation")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 24 and (%Engine__listenerCalls[24]>3)))
    set_text($Engine__particleSpreadLabel,"Pan Variation")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 25 and (%Engine__listenerCalls[25]>3)))
    set_text($Engine__particleVolVariationLabel,"Volume Variation")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 26 and (%Engine__listenerCalls[26]>3)))
    set_text($Engine__particleCrossfadeKnobLabel,"Overlap")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 27 and (%Engine__listenerCalls[27]>3)))
    set_text($Engine__particleStretchSpeedLabel,"Speed")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 28 and (%Engine__listenerCalls[28]>3)))
    set_text($Engine__particleStretchFormantLabel,"Formant")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 29 and (%Engine__listenerCalls[29]>3)))
    set_text($Engine__particleAttackKnobLabel,"Attack")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 30 and (%Engine__listenerCalls[30]>3)))
    set_text($Engine__particleDecayKnobLabel,"Decay")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 31 and (%Engine__listenerCalls[31]>3)))
    set_text($Engine__particleSustainKnobLabel,"Sustain")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 32 and (%Engine__listenerCalls[32]>3)))
    set_text($Engine__particleReleaseKnobLabel,"Release")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 33 and (%Engine__listenerCalls[33]>3)))
    set_text($Engine__particleAttackCurveKnobLabel,"Attack Curve")
  end if
  if ($KSP_TIMER>500000 or ($Engine__lastUIChange # 34 and (%Engine__listenerCalls[34]>3)))
    set_text($Engine__bitsLabel,"Bits")
  end if
  while ($listenerIterator<$Engine__numDynamicLabels)
    if ($Engine__lastUIChange # $listenerIterator and (%Engine__listenerCalls[$listenerIterator]>3))
      %Engine__listenerCalls[$listenerIterator] := 0
    end if
    $listenerIterator := $listenerIterator+1
  end while
  $listenerIterator := 0
end on

on ui_control($Engine__eqOnOff)
  select (43)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+43] := $Engine__eqOnOff
end on

on ui_control($Engine__highShelf)
  select (44)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__highShelfLabel,get_engine_par_disp($ENGINE_PAR_SEQ_HF_GAIN,-1,1,$NI_BUS_OFFSET) & " dB")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+44] := $Engine__highShelf
end on

on ui_control($Engine__midBand)
  select (45)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__midBandLabel,get_engine_par_disp($ENGINE_PAR_SEQ_LMF_GAIN,-1,1,$NI_BUS_OFFSET) & " dB")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+45] := $Engine__midBand
end on

on ui_control($Engine__lowShelf)
  select (46)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__lowShelfLabel,get_engine_par_disp($ENGINE_PAR_SEQ_LF_GAIN,-1,1,$NI_BUS_OFFSET) & " dB")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+46] := $Engine__lowShelf
end on

on ui_control($Engine__bitcrushOnOff)
  set_control_par(get_ui_id($Engine__footerBitcrushButton),$CONTROL_PAR_VALUE,$Engine__bitcrushOnOff)
  select (47)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+47] := $Engine__bitcrushOnOff
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+72] := $Engine__footerBitcrushButton
end on

on ui_control($Engine__sampleRate)
  set_control_par(get_ui_id($Engine__footerKnob1),$CONTROL_PAR_VALUE,$Engine__sampleRate)
  select (48)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__sampleRateLabel,get_engine_par_disp($ENGINE_PAR_FREQUENCY,-1,0,$NI_BUS_OFFSET) & " hz")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+48] := $Engine__sampleRate
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+33] := $Engine__footerKnob1
end on

on ui_control($Engine__delayOnOff)
  set_control_par(get_ui_id($Engine__footerDelayButton),$CONTROL_PAR_VALUE,$Engine__delayOnOff)
  select (49)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+49] := $Engine__delayOnOff
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+74] := $Engine__footerDelayButton
end on

on ui_control($Engine__delayRate)
  select (50)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__delayRateLabel,get_engine_par_disp($ENGINE_PAR_RDL_TIME,-1,2,$NI_BUS_OFFSET) & " hz")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+50] := $Engine__delayRate
end on

on ui_control($Engine__delayFeedback)
  select (51)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__delayFeedbackLabel,round(int_to_real($Engine__delayFeedback)/8100.0) & "%")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+51] := $Engine__delayFeedback
end on

on ui_control($Engine__delayMix)
  set_control_par(get_ui_id($Engine__footerKnob3),$CONTROL_PAR_VALUE,$Engine__delayMix)
  select (52)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__delayMixLabel,get_engine_par_disp($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,-1,2,$NI_BUS_OFFSET) & " dB")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+52] := $Engine__delayMix
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+35] := $Engine__footerKnob3
end on

on ui_control($Engine__delayPingPong)
  select (53)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+53] := $Engine__delayPingPong
end on

on ui_control($Engine__reverbOnOff)
  set_control_par(get_ui_id($Engine__footerReverbButton),$CONTROL_PAR_VALUE,$Engine__reverbOnOff)
  select (54)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+54] := $Engine__reverbOnOff
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+75] := $Engine__footerReverbButton
end on

on ui_control($Engine__reverbDecay)
  select (55)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__reverbDecayLabel,round(int_to_real($Engine__reverbDecay)/10000.0) & " %")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+55] := $Engine__reverbDecay
end on

on ui_control($Engine__reverbMix)
  set_control_par(get_ui_id($Engine__footerKnob4),$CONTROL_PAR_VALUE,$Engine__reverbMix)
  select (56)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__reverbMixLabel,get_engine_par_disp($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,-1,3,$NI_BUS_OFFSET) & " dB")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+56] := $Engine__reverbMix
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+36] := $Engine__footerKnob4
end on

on ui_control($Engine__reverbReverse)
  select (57)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+57] := $Engine__reverbReverse
end on

on ui_control($Engine__bits)
  select (72)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__bitsLabel,get_engine_par_disp($ENGINE_PAR_BITS,-1,0,$NI_BUS_OFFSET))
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+76] := $Engine__bits
end on

on ui_control($Engine__particleMode)
  set_control_par(get_ui_id($Engine__footerDropletsButton),$CONTROL_PAR_VALUE,$Engine__particleMode)
  select (38)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+38] := $Engine__particleMode
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+73] := $Engine__footerDropletsButton
end on

on ui_control($Engine__Tempo_sync)
  select (39)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+39] := $Engine__Tempo_sync
end on

on ui_control($Engine__particleDryWet)
  set_control_par(get_ui_id($Engine__footerKnob2),$CONTROL_PAR_VALUE,$Engine__particleDryWet)
  select (40)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__particleMixLabel,round(int_to_real($Engine__particleDryWet)/127.0*100.0) & "%")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+40] := $Engine__particleDryWet
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+34] := $Engine__footerKnob2
end on

on ui_control($Engine__rate_knob)
  select (41)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
end on

on ui_control($Engine__timeVariation)
  select (42)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+42] := $Engine__timeVariation
end on

on ui_control($Engine__particleOctave)
  select (58)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+58] := $Engine__particleOctave
end on

on ui_control($Engine__particleSpread)
  select (59)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+59] := $Engine__particleSpread
end on

on ui_control($Engine__particleVolVariation)
  select (60)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+60] := $Engine__particleVolVariation
end on

on ui_control($Engine__particleCrossfadeKnob)
  select (61)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+61] := $Engine__particleCrossfadeKnob
end on

on ui_control($Engine__particleReverseMode)
  select (62)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+62] := $Engine__particleReverseMode
end on

on ui_control($Engine__particleStretchMode)
  select (63)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+63] := $Engine__particleStretchMode
end on

on ui_control($Engine__particleStretchSpeed)
  select (64)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+64] := $Engine__particleStretchSpeed
end on

on ui_control($Engine__particleStretchFormant)
  select (65)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+65] := $Engine__particleStretchFormant
end on

on ui_control($Engine__particleAttackKnob)
  select (66)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+66] := $Engine__particleAttackKnob
end on

on ui_control($Engine__particleDecayKnob)
  select (67)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+67] := $Engine__particleDecayKnob
end on

on ui_control($Engine__particleSustainKnob)
  select (68)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+68] := $Engine__particleSustainKnob
end on

on ui_control($Engine__particleReleaseKnob)
  select (69)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+69] := $Engine__particleReleaseKnob
end on

on ui_control($Engine__particleAttackCurveKnob)
  select (70)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+70] := $Engine__particleAttackCurveKnob
end on

on ui_control($Engine__particleFXButton)
  select (71)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+71] := $Engine__particleFXButton
end on

on ui_control($Engine__tabs0)
  $Engine__tabs1 := 0
  $Engine__tabs2 := 0
  if ($Engine__tabs0=0)
    if (0=0)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (0=0)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (0=0)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    set_skin_offset(0)
    set_control_par(get_ui_id($Engine__mainTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
    set_control_par(get_ui_id($Engine__PresetPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
    set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
  else
    if (1=0)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (1=1)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (0=0)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (0=0)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    set_control_par(get_ui_id($Engine__PresetPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    set_control_par(get_ui_id($Engine__PresetBrowserPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    $Engine__presetDropDown := 0
    set_control_par(get_ui_id($Engine__mainTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
    set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  end if
end on

on ui_control($Engine__tabs1)
  $Engine__tabs0 := 0
  $Engine__tabs2 := 0
  if ($Engine__tabs1=0)
    if (0=0)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (0=0)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (0=0)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    set_skin_offset(0)
    set_control_par(get_ui_id($Engine__PresetPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
    set_control_par(get_ui_id($Engine__mainTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
    set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
  else
    if (0=0)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (1=0)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (1=1)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (0=0)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    set_control_par(get_ui_id($Engine__PresetPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    set_control_par(get_ui_id($Engine__PresetBrowserPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    $Engine__presetDropDown := 0
    set_control_par(get_ui_id($Engine__mainTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
    set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  end if
end on

on ui_control($Engine__tabs2)
  $Engine__tabs0 := 0
  $Engine__tabs1 := 0
  if ($Engine__tabs2=0)
    if (0=0)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (0=0)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (0=0)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    set_skin_offset(0)
    set_control_par(get_ui_id($Engine__mainTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
    set_control_par(get_ui_id($Engine__PresetPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
    set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
  else
    if (0=0)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (0)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (0=0)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (0=1)
      select (1)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    if (1=0)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      end select
    end if
    if (1=1)
      select (2)
        case 0
          set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 1
          set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 2
          set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
          set_skin_offset(536)
        case 3
          while ($i<7)
            message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
            $i := $i+1
          end while
          $i := 0
        case 4
          while ($i<7)
            message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
            $i := $i+1
          end while
          $i := 0
        case 5
          while ($i<7)
            message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
            $i := $i+1
          end while
          $i := 0
        case 6
          while ($i<7)
            message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
            set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
            $i := $i+1
          end while
          $i := 0
      end select
    end if
    set_control_par(get_ui_id($Engine__PresetPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    set_control_par(get_ui_id($Engine__PresetBrowserPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    $Engine__presetDropDown := 0
    set_control_par(get_ui_id($Engine__mainTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
    set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  end if
end on

on ui_control($Engine__presetDropDown)
  if ($Engine__presetDropDown=0)
    set_control_par(get_ui_id($Engine__PresetBrowserPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
  else
    set_control_par(get_ui_id($Engine__PresetBrowserPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
  end if
end on

on ui_control($Engine__presetCategories0)
  while ($i<7)
    if (%Engine___currentPresetState[2*7*0+(2*$i)+%Engine__currentPage[0]]=1)
      set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
    else
      set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
    end if
    $i := $i+1
  end while
  $i := 0
  select (%Engine__currentPage[0])
    case 0
      $Engine__page0Button := 1
      $Engine__page1Button := 0
    case 1
      $Engine__page0Button := 0
      $Engine__page1Button := 1
  end select
  set_control_par(get_ui_id($Engine__presetCategories0),$CONTROL_PAR_VALUE,1)
  set_control_par(get_ui_id($Engine__presetCategories1),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetCategories2),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetCategories3),$CONTROL_PAR_VALUE,0)
  if (1=0)
    select (3)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (1=1)
    select (3)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (0=0)
    select (4)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (4)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (0=0)
    select (5)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (5)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (0=0)
    select (6)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (6)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  $Engine__currentCategory := 0
end on

on ui_control($Engine__presetCategories1)
  while ($i<7)
    if (%Engine___currentPresetState[2*7*1+(2*$i)+%Engine__currentPage[1]]=1)
      set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
    else
      set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
    end if
    $i := $i+1
  end while
  $i := 0
  select (%Engine__currentPage[1])
    case 0
      $Engine__page0Button := 1
      $Engine__page1Button := 0
    case 1
      $Engine__page0Button := 0
      $Engine__page1Button := 1
  end select
  set_control_par(get_ui_id($Engine__presetCategories0),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetCategories1),$CONTROL_PAR_VALUE,1)
  set_control_par(get_ui_id($Engine__presetCategories2),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetCategories3),$CONTROL_PAR_VALUE,0)
  if (0=0)
    select (3)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (3)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (1=0)
    select (4)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (1=1)
    select (4)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (0=0)
    select (5)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (5)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (0=0)
    select (6)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (6)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  $Engine__currentCategory := 1
end on

on ui_control($Engine__presetCategories2)
  while ($i<7)
    if (%Engine___currentPresetState[2*7*2+(2*$i)+%Engine__currentPage[2]]=1)
      set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
    else
      set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
    end if
    $i := $i+1
  end while
  $i := 0
  select (%Engine__currentPage[2])
    case 0
      $Engine__page0Button := 1
      $Engine__page1Button := 0
    case 1
      $Engine__page0Button := 0
      $Engine__page1Button := 1
  end select
  set_control_par(get_ui_id($Engine__presetCategories0),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetCategories1),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetCategories2),$CONTROL_PAR_VALUE,1)
  set_control_par(get_ui_id($Engine__presetCategories3),$CONTROL_PAR_VALUE,0)
  if (0=0)
    select (3)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (3)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (0=0)
    select (4)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (4)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (1=0)
    select (5)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (1=1)
    select (5)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (0=0)
    select (6)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (6)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  $Engine__currentCategory := 2
end on

on ui_control($Engine__presetCategories3)
  while ($i<7)
    if (%Engine___currentPresetState[2*7*3+(2*$i)+%Engine__currentPage[3]]=1)
      set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
    else
      set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
    end if
    $i := $i+1
  end while
  $i := 0
  select (%Engine__currentPage[3])
    case 0
      $Engine__page0Button := 1
      $Engine__page1Button := 0
    case 1
      $Engine__page0Button := 0
      $Engine__page1Button := 1
  end select
  set_control_par(get_ui_id($Engine__presetCategories0),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetCategories1),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetCategories2),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetCategories3),$CONTROL_PAR_VALUE,1)
  if (0=0)
    select (3)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (3)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (0=0)
    select (4)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (4)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (0=0)
    select (5)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (0=1)
    select (5)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  if (1=0)
    select (6)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_WHOLE_CONTROL)
    end select
  end if
  if (1=1)
    select (6)
      case 0
        set_control_par(get_ui_id($Engine__ranTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 1
        set_control_par(get_ui_id($Engine__ADSRPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_control_par(get_ui_id($Engine__FXPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 2
        set_control_par(get_ui_id($Engine__particleTabPanel),$CONTROL_PAR_HIDE,$HIDE_PART_NOTHING)
        set_skin_offset(536)
      case 3
        while ($i<7)
          message("category index: " & 0 & "current page: " & %Engine__currentPage[0])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
          $i := $i+1
        end while
        $i := 0
      case 4
        while ($i<7)
          message("category index: " & 1 & "current page: " & %Engine__currentPage[1])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
          $i := $i+1
        end while
        $i := 0
      case 5
        while ($i<7)
          message("category index: " & 2 & "current page: " & %Engine__currentPage[2])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
          $i := $i+1
        end while
        $i := 0
      case 6
        while ($i<7)
          message("category index: " & 3 & "current page: " & %Engine__currentPage[3])
          set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
          $i := $i+1
        end while
        $i := 0
    end select
  end if
  $Engine__currentCategory := 3
end on

on ui_control($Engine__scrambleButton)
  while ($i<22)
    if (%Engine__lockedRandomizers[$i]=0)
      %GuiCallBacks__preSamplePathsIndexState[$i] := %GuiCallBacks__samplePathsIndexState[$i]
      %GuiCallBacks__samplePathsIndexState[$i] := random(0,$Engine__num_unique_samples-1)
      if ($i<11)
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
          case 1
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SaturnButton")
          case 2
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/FishButton")
          case 3
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/DropButton")
        end select
      else
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
          case 1
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/FireButton")
          case 2
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SnowflakeButton")
          case 3
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/BonfireButton")
        end select
      end if
      if (%GuiCallBacks__preSamplePathsIndexState[$i] # %GuiCallBacks__samplePathsIndexState[$i])
        %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
        $j := $j+1
        %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i+22],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
        $j := $j+1
      end if
    end if
    $i := $i+1
  end while
  $i := 0
  $j := 0
  while (%GuiCallBacks__async_ID[$j]>-1)
    wait_async(%GuiCallBacks__async_ID[$j])
    $j := $j+1
  end while
  $j := 0
  while ($i<256)
    %GuiCallBacks__async_ID[$i] := -1
    $i := $i+1
  end while
  $i := 0
  call setLoopModes
  $Engine__scrambleButton2 := $Engine__scrambleButton
end on

on ui_control($Engine__scrambleButton2)
  while ($i<22)
    if (%Engine__lockedRandomizers[$i]=0)
      %GuiCallBacks__preSamplePathsIndexState[$i] := %GuiCallBacks__samplePathsIndexState[$i]
      %GuiCallBacks__samplePathsIndexState[$i] := random(0,$Engine__num_unique_samples-1)
      if ($i<11)
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
          case 1
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SaturnButton")
          case 2
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/FishButton")
          case 3
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/DropButton")
        end select
      else
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
          case 1
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/FireButton")
          case 2
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SnowflakeButton")
          case 3
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/BonfireButton")
        end select
      end if
      if (%GuiCallBacks__preSamplePathsIndexState[$i] # %GuiCallBacks__samplePathsIndexState[$i])
        %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
        $j := $j+1
        %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i+22],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
        $j := $j+1
      end if
    end if
    $i := $i+1
  end while
  $i := 0
  $j := 0
  while (%GuiCallBacks__async_ID[$j]>-1)
    wait_async(%GuiCallBacks__async_ID[$j])
    $j := $j+1
  end while
  $j := 0
  while ($i<256)
    %GuiCallBacks__async_ID[$i] := -1
    $i := $i+1
  end while
  $i := 0
  call setLoopModes
  $Engine__scrambleButton := $Engine__scrambleButton2
end on

on ui_control($Engine__attackKnob)
  select (0)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0] := $Engine__attackKnob
end on

on ui_control($Engine__decayKnob)
  select (1)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1] := $Engine__decayKnob
end on

on ui_control($Engine__sustainKnob)
  select (2)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2] := $Engine__sustainKnob
end on

on ui_control($Engine__releaseKnob)
  select (3)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3] := $Engine__releaseKnob
end on

on ui_control($Engine__attackCurveKnob)
  select (4)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4] := $Engine__attackCurveKnob
end on

on ui_control($Engine__reverseModeButton)
  select (5)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5] := $Engine__reverseModeButton
end on

on ui_control($Engine__finishDecayButton)
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6] := $Engine__finishDecayButton
end on

on ui_control($Engine__crossfadeKnob)
  set_control_par(get_ui_id($Engine__footerKnob0),$CONTROL_PAR_VALUE,$Engine__crossfadeKnob)
  select (7)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__crossfadeLabel,$Engine__crossfadeKnob & " semitones")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7] := $Engine__crossfadeKnob
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__footerKnob0
end on

on ui_control($Engine__footerKnob0)
  set_control_par(get_ui_id($Engine__crossfadeKnob),$CONTROL_PAR_VALUE,$Engine__footerKnob0)
  select (7)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  select (32)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__footerKnob0
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7] := $Engine__crossfadeKnob
end on

on ui_control($Engine__footerKnob1)
  set_control_par(get_ui_id($Engine__sampleRate),$CONTROL_PAR_VALUE,$Engine__footerKnob1)
  select (48)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  select (33)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__footerLabels1,get_engine_par_disp($ENGINE_PAR_FREQUENCY,-1,0,$NI_BUS_OFFSET) & " hz")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+33] := $Engine__footerKnob1
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+48] := $Engine__sampleRate
end on

on ui_control($Engine__footerKnob2)
  set_control_par(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_VALUE,$Engine__footerKnob2)
  select (40)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  select (34)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__footerLabels2,round(int_to_real($Engine__particleDryWet)/127.0*100.0) & "%")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+34] := $Engine__footerKnob2
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+40] := $Engine__particleDryWet
end on

on ui_control($Engine__footerKnob3)
  set_control_par(get_ui_id($Engine__delayMix),$CONTROL_PAR_VALUE,$Engine__footerKnob3)
  select (52)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  select (35)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__footerLabels3,get_engine_par_disp($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,-1,2,$NI_BUS_OFFSET) & " dB")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+35] := $Engine__footerKnob3
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+52] := $Engine__delayMix
end on

on ui_control($Engine__footerKnob4)
  set_control_par(get_ui_id($Engine__reverbMix),$CONTROL_PAR_VALUE,$Engine__footerKnob4)
  select (56)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  select (36)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  set_text($Engine__footerLabels4,get_engine_par_disp($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,-1,3,$NI_BUS_OFFSET) & " dB")
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+36] := $Engine__footerKnob4
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+56] := $Engine__reverbMix
end on

on ui_control($Engine__footerBitcrushButton)
  set_control_par(get_ui_id($Engine__bitcrushOnOff),$CONTROL_PAR_VALUE,$Engine__footerBitcrushButton)
  select (47)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+72] := $Engine__footerBitcrushButton
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+47] := $Engine__bitcrushOnOff
end on

on ui_control($Engine__footerDropletsButton)
  set_control_par(get_ui_id($Engine__particleMode),$CONTROL_PAR_VALUE,$Engine__footerDropletsButton)
  select (38)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+73] := $Engine__footerDropletsButton
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+38] := $Engine__particleMode
end on

on ui_control($Engine__footerDelayButton)
  set_control_par(get_ui_id($Engine__delayOnOff),$CONTROL_PAR_VALUE,$Engine__footerDelayButton)
  select (49)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+74] := $Engine__footerDelayButton
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+49] := $Engine__delayOnOff
end on

on ui_control($Engine__footerReverbButton)
  set_control_par(get_ui_id($Engine__reverbOnOff),$CONTROL_PAR_VALUE,$Engine__footerReverbButton)
  select (54)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+75] := $Engine__footerReverbButton
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+54] := $Engine__reverbOnOff
end on

on ui_control($Engine__mainKnobMod)
  select (37)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
end on

on ui_control($Engine__prevPage)
  $Engine__page0Button := 1
  $Engine__page1Button := 0
  if ($Engine__presetCategories0=1 and (%Engine__currentPage[0]>0))
    %Engine__currentPage[0] := %Engine__currentPage[0]-1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
      if (%Engine___currentPresetState[2*7*0+(2*$i)+%Engine__currentPage[0]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 1
  $Engine__page1Button := 0
  if ($Engine__presetCategories1=1 and (%Engine__currentPage[1]>0))
    %Engine__currentPage[1] := %Engine__currentPage[1]-1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
      if (%Engine___currentPresetState[2*7*1+(2*$i)+%Engine__currentPage[1]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 1
  $Engine__page1Button := 0
  if ($Engine__presetCategories2=1 and (%Engine__currentPage[2]>0))
    %Engine__currentPage[2] := %Engine__currentPage[2]-1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
      if (%Engine___currentPresetState[2*7*2+(2*$i)+%Engine__currentPage[2]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 1
  $Engine__page1Button := 0
  if ($Engine__presetCategories3=1 and (%Engine__currentPage[3]>0))
    %Engine__currentPage[3] := %Engine__currentPage[3]-1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
      if (%Engine___currentPresetState[2*7*3+(2*$i)+%Engine__currentPage[3]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
end on

on ui_control($Engine__nextPage)
  $Engine__page0Button := 0
  $Engine__page1Button := 1
  if ($Engine__presetCategories0=1 and (%Engine__currentPage[0]<1))
    %Engine__currentPage[0] := %Engine__currentPage[0]+1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
      message("current Preset state[" & 0 & ", " & $i & ", " & %Engine__currentPage[0] & "]: " & %Engine___currentPresetState[2*7*0+(2*$i)+%Engine__currentPage[0]])
      if (%Engine___currentPresetState[2*7*0+(2*$i)+%Engine__currentPage[0]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 0
  $Engine__page1Button := 1
  if ($Engine__presetCategories1=1 and (%Engine__currentPage[1]<1))
    %Engine__currentPage[1] := %Engine__currentPage[1]+1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
      message("current Preset state[" & 1 & ", " & $i & ", " & %Engine__currentPage[1] & "]: " & %Engine___currentPresetState[2*7*1+(2*$i)+%Engine__currentPage[1]])
      if (%Engine___currentPresetState[2*7*1+(2*$i)+%Engine__currentPage[1]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 0
  $Engine__page1Button := 1
  if ($Engine__presetCategories2=1 and (%Engine__currentPage[2]<1))
    %Engine__currentPage[2] := %Engine__currentPage[2]+1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
      message("current Preset state[" & 2 & ", " & $i & ", " & %Engine__currentPage[2] & "]: " & %Engine___currentPresetState[2*7*2+(2*$i)+%Engine__currentPage[2]])
      if (%Engine___currentPresetState[2*7*2+(2*$i)+%Engine__currentPage[2]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 0
  $Engine__page1Button := 1
  if ($Engine__presetCategories3=1 and (%Engine__currentPage[3]<1))
    %Engine__currentPage[3] := %Engine__currentPage[3]+1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
      message("current Preset state[" & 3 & ", " & $i & ", " & %Engine__currentPage[3] & "]: " & %Engine___currentPresetState[2*7*3+(2*$i)+%Engine__currentPage[3]])
      if (%Engine___currentPresetState[2*7*3+(2*$i)+%Engine__currentPage[3]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
end on

on ui_control($Engine__page0Button)
  $Engine__page0Button := 1
  $Engine__page1Button := 0
  if ($Engine__presetCategories0=1 and (%Engine__currentPage[0]>0))
    %Engine__currentPage[0] := %Engine__currentPage[0]-1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
      if (%Engine___currentPresetState[2*7*0+(2*$i)+%Engine__currentPage[0]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 1
  $Engine__page1Button := 0
  if ($Engine__presetCategories1=1 and (%Engine__currentPage[1]>0))
    %Engine__currentPage[1] := %Engine__currentPage[1]-1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
      if (%Engine___currentPresetState[2*7*1+(2*$i)+%Engine__currentPage[1]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 1
  $Engine__page1Button := 0
  if ($Engine__presetCategories2=1 and (%Engine__currentPage[2]>0))
    %Engine__currentPage[2] := %Engine__currentPage[2]-1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
      if (%Engine___currentPresetState[2*7*2+(2*$i)+%Engine__currentPage[2]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 1
  $Engine__page1Button := 0
  if ($Engine__presetCategories3=1 and (%Engine__currentPage[3]>0))
    %Engine__currentPage[3] := %Engine__currentPage[3]-1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
      if (%Engine___currentPresetState[2*7*3+(2*$i)+%Engine__currentPage[3]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
end on

on ui_control($Engine__page1Button)
  $Engine__page0Button := 0
  $Engine__page1Button := 1
  if ($Engine__presetCategories0=1 and (%Engine__currentPage[0]<1))
    %Engine__currentPage[0] := %Engine__currentPage[0]+1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*0+7*%Engine__currentPage[0]+$i])
      message("current Preset state[" & 0 & ", " & $i & ", " & %Engine__currentPage[0] & "]: " & %Engine___currentPresetState[2*7*0+(2*$i)+%Engine__currentPage[0]])
      if (%Engine___currentPresetState[2*7*0+(2*$i)+%Engine__currentPage[0]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 0
  $Engine__page1Button := 1
  if ($Engine__presetCategories1=1 and (%Engine__currentPage[1]<1))
    %Engine__currentPage[1] := %Engine__currentPage[1]+1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*1+7*%Engine__currentPage[1]+$i])
      message("current Preset state[" & 1 & ", " & $i & ", " & %Engine__currentPage[1] & "]: " & %Engine___currentPresetState[2*7*1+(2*$i)+%Engine__currentPage[1]])
      if (%Engine___currentPresetState[2*7*1+(2*$i)+%Engine__currentPage[1]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 0
  $Engine__page1Button := 1
  if ($Engine__presetCategories2=1 and (%Engine__currentPage[2]<1))
    %Engine__currentPage[2] := %Engine__currentPage[2]+1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*2+7*%Engine__currentPage[2]+$i])
      message("current Preset state[" & 2 & ", " & $i & ", " & %Engine__currentPage[2] & "]: " & %Engine___currentPresetState[2*7*2+(2*$i)+%Engine__currentPage[2]])
      if (%Engine___currentPresetState[2*7*2+(2*$i)+%Engine__currentPage[2]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
  $Engine__page0Button := 0
  $Engine__page1Button := 1
  if ($Engine__presetCategories3=1 and (%Engine__currentPage[3]<1))
    %Engine__currentPage[3] := %Engine__currentPage[3]+1
    while ($i<7)
      set_control_par_str(%Engine__presetPageIndex[$i],$CONTROL_PAR_TEXT,!Engine___presetNames[16*3+7*%Engine__currentPage[3]+$i])
      message("current Preset state[" & 3 & ", " & $i & ", " & %Engine__currentPage[3] & "]: " & %Engine___currentPresetState[2*7*3+(2*$i)+%Engine__currentPage[3]])
      if (%Engine___currentPresetState[2*7*3+(2*$i)+%Engine__currentPage[3]]=1)
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,1)
      else
        set_control_par(%Engine__presetPageIndex[$i],$CONTROL_PAR_VALUE,0)
      end if
      $i := $i+1
    end while
    $i := 0
  end if
end on

on ui_control($Engine__saveStateButton)
  message("Start Save")
  if ($Engine__debugMode=1)
    save_array_str(%GuiCallBacks___settingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_UISettings.nka")
    save_array_str(%GuiCallBacks__samplePathsIndexState,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_PathSettings.nka")
    save_array_str(%GuiCallBacks__variableSettingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_VariableSettings.nka")
  end if
  save_array_str(%GuiCallBacks___settingsSave,@GuiCallBacks__basepath & "Data/USER_STATE_SAVE.nka")
  save_array_str(%GuiCallBacks__samplePathsIndexState,@GuiCallBacks__basepath & "Data/USER_STATE_SAVE_PATHS.nka")
  save_array_str(%GuiCallBacks__variableSettingsSave,@GuiCallBacks__basepath & "Data/USER_STATE_SAVE_VARIABLES.nka")
  message("State Saved!")
end on

on ui_control($Engine__loadStateButton)
  while ($i<$GuiCallBacks__numUIElements)
    %GuiCallBacks__previousValues[$i] := %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$i]
    $i := $i+1
  end while
  $i := 0
  while ($i<22)
    %GuiCallBacks__preSamplePathsIndexState[$i] := %GuiCallBacks__samplePathsIndexState[$i]
    $i := $i+1
  end while
  $i := 0
  %GuiCallBacks__loadPresetArrayID[0] := load_array_str(%GuiCallBacks___settingsSave,@GuiCallBacks__basepath & "Data/USER_STATE_SAVE.nka")
  %GuiCallBacks__loadPresetArrayID[1] := load_array_str(%GuiCallBacks__samplePathsIndexState,@GuiCallBacks__basepath & "Data/USER_STATE_SAVE_PATHS.nka")
  %GuiCallBacks__loadPresetArrayID[2] := load_array_str(%GuiCallBacks__variableSettingsSave,@GuiCallBacks__basepath & "Data/USER_STATE_SAVE_VARIABLES.nka")
  while (%GuiCallBacks__loadPresetArrayID[0] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[1] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[2] # -1)
    wait(1)
  end while
  message("Begin Load... ... ...")
  while ($i<22)
    %Engine__lockedRandomizers[$i] := %GuiCallBacks__variableSettingsSave[$i]
    $i := $i+1
  end while
  $i := 0
  %Engine__numCurrentLocks[0] := %GuiCallBacks__variableSettingsSave[22]
  %Engine__numCurrentLocks[1] := %GuiCallBacks__variableSettingsSave[23]
  $Engine__Free_knob := %GuiCallBacks__variableSettingsSave[24]
  $Engine__Sync_knob := %GuiCallBacks__variableSettingsSave[25]
  $Engine__delay_time := %GuiCallBacks__variableSettingsSave[26]
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := %GuiCallBacks__variableSettingsSave[27+$l]
        message("current Preset state[" & $i & ", " & $j & ", " & $k & "]: " & %Engine___currentPresetState[2*7*$i+(2*$j)+$k])
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  while ($loadArrayIterator<$GuiCallBacks__numUIElements)
  set_control_par(%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+$loadArrayIterator],$CONTROL_PAR_VALUE,%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator]) // me is here
    if (%GuiCallBacks__previousValues[$loadArrayIterator] # %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator] or (0=1))
      select ($loadArrayIterator)
        case 0
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 0
        case 1
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 1
        case 2
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 2
        case 3
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 3
        case 4
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 4
        case 5
          call setLoopModes
        case 7
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (0=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 5
        case 30
          if ($Engine__lockRow0=1)
            %Engine__numCurrentLocks[0] := 11
            $Engine__randomPPLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 1
              %GuiCallBacks__variableSettingsSave[$i] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[0] := 0
            $Engine__randomPPLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 0
              %GuiCallBacks__variableSettingsSave[$i] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
        case 31
          if ($Engine__lockRow1=1)
            %Engine__numCurrentLocks[1] := 11
            $Engine__randomFFLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 1
              %GuiCallBacks__variableSettingsSave[$i+11] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[1] := 0
            $Engine__randomFFLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 0
              %GuiCallBacks__variableSettingsSave[$i+11] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
        case 32
          reset_ksp_timer
          set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
          $Engine__lastUIChange := 6
        case 33
          reset_ksp_timer
          $Engine__lastUIChange := 7
          set_text($Engine__footerLabels1,"test2")
        case 34
          reset_ksp_timer
          $Engine__lastUIChange := 8
        case 35
          reset_ksp_timer
          $Engine__lastUIChange := 9
          set_text($Engine__footerLabels3,"test4")
        case 36
          reset_ksp_timer
          $Engine__lastUIChange := 10
          set_text($Engine__footerLabels4,"test5")
        case 37
          set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_controller(103,$Engine__mainKnobMod)
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
        case 38
          if ($Engine__particleMode=0)
            set_controller(104,0)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          else
            set_controller(104,$Engine__particleDryWet)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            if ($Engine__particleStretchMode=1)
              set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
              set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            end if
          end if
        case 39
          if ($Engine__Tempo_sync=0)
            $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
          else
            $Engine__Rate_knob := $Engine__sync_knob*1000001/17
          end if
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 40
          if ($Engine__particleMode=1)
            set_controller(104,$Engine__particleDryWet)
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 11
          set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
        case 41
          if ($Engine__Tempo_sync=0)
            $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
            %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
          else
            $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
            %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 12
          set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 42
          reset_ksp_timer
          $Engine__lastUIChange := 13
          set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
        case 43
          if ($Engine__eqOnOff=0)
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
            end if
          end if
        case 44
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 14
        case 45
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 15
        case 46
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 16
        case 47
          if ($Engine__bitcrushOnOff=0)
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
            end if
          end if
        case 48
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 17
        case 49
          if ($Engine__delayOnOff=0)
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
            end if
          end if
        case 50
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 18
        case 51
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 19
        case 52
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 20
        case 53
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
        case 54
          if ($Engine__reverbOnOff=0)
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
            end if
          end if
        case 55
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 21
        case 56
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 22
        case 57
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
        case 58
          reset_ksp_timer
          $Engine__lastUIChange := 23
          set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
        case 59
          reset_ksp_timer
          $Engine__lastUIChange := 24
          set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
        case 60
          reset_ksp_timer
          $Engine__lastUIChange := 25
          set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
        case 61
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (1=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 26
          set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
        case 63
          if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          else
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          end if
        case 64
          reset_ksp_timer
          $Engine__lastUIChange := 27
          set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
        case 65
          reset_ksp_timer
          $Engine__lastUIChange := 28
          set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
        case 66
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 29
        case 67
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 30
        case 68
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 31
        case 69
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 32
        case 70
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 33
        case 71
          if ($Engine__particleFXButton=0)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
            if ($Engine__bitcrushOnOff=0)
              set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__eqOnOff=0)
              set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__delayOnOff=0)
              set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__reverbOnOff=0)
              set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
          else
            if ($Engine__particleFXButton=1)
              if ($Engine__bitcrushOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__eqOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__delayOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__reverbOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
              end if
            end if
          end if
        case 72
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 34
      end select
    end if
    $loadArrayIterator := $loadArrayIterator+1
  end while
  $loadArrayIterator := 0
  while ($i<22)
    if (%GuiCallBacks__preSamplePathsIndexState[$i] # %GuiCallBacks__samplePathsIndexState[$i] or (0=1))
      message("Made it, needs to be changed at i = " & $i)
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i+22],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      if ($i<11)
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
          case 1
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SaturnButton")
          case 2
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/FishButton")
          case 3
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/DropButton")
        end select
      else
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
          case 1
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/FireButton")
          case 2
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SnowflakeButton")
          case 3
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/BonfireButton")
        end select
      end if
    end if
    $i := $i+1
  end while
  $i := 0
  while (%GuiCallBacks__async_ID[$j]>-1)
    wait_async(%GuiCallBacks__async_ID[$j])
    $j := $j+1
  end while
  $j := 0
  while ($i<256)
    %GuiCallBacks__async_ID[$i] := -1
    $i := $i+1
  end while
  $i := 0
  call setLoopModes
  message("State Loaded!")
end on

on ui_control($Engine__lockRow0)
  select (30)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
end on

on ui_control($Engine__lockRow1)
  select (31)
    case 0
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 0
    case 1
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 1
    case 2
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 2
    case 3
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 3
    case 4
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 4
    case 5
      call setLoopModes
    case 7
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (0=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 5
    case 30
      if ($Engine__lockRow0=1)
        %Engine__numCurrentLocks[0] := 11
        $Engine__randomPPLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 1
          %GuiCallBacks__variableSettingsSave[$i] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[0] := 0
        $Engine__randomPPLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
        $Engine__randomPPLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
        $Engine__randomPPLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
        $Engine__randomPPLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
        $Engine__randomPPLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
        $Engine__randomPPLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
        $Engine__randomPPLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
        $Engine__randomPPLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
        $Engine__randomPPLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
        $Engine__randomPPLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
        $Engine__randomPPLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i] := 0
          %GuiCallBacks__variableSettingsSave[$i] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
    case 31
      if ($Engine__lockRow1=1)
        %Engine__numCurrentLocks[1] := 11
        $Engine__randomFFLocks0 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 1
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 1
          %GuiCallBacks__variableSettingsSave[$i+11] := 1
          $i := $i+1
        end while
      else
        %Engine__numCurrentLocks[1] := 0
        $Engine__randomFFLocks0 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
        $Engine__randomFFLocks1 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
        $Engine__randomFFLocks2 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
        $Engine__randomFFLocks3 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
        $Engine__randomFFLocks4 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
        $Engine__randomFFLocks5 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
        $Engine__randomFFLocks6 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
        $Engine__randomFFLocks7 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
        $Engine__randomFFLocks8 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
        $Engine__randomFFLocks9 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
        $Engine__randomFFLocks10 := 0
        %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
        while ($i<11)
          %Engine__lockedRandomizers[$i+11] := 0
          %GuiCallBacks__variableSettingsSave[$i+11] := 0
          $i := $i+1
        end while
      end if
      $i := 0
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
    case 32
      reset_ksp_timer
      set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
      $Engine__lastUIChange := 6
    case 33
      reset_ksp_timer
      $Engine__lastUIChange := 7
      set_text($Engine__footerLabels1,"test2")
    case 34
      reset_ksp_timer
      $Engine__lastUIChange := 8
    case 35
      reset_ksp_timer
      $Engine__lastUIChange := 9
      set_text($Engine__footerLabels3,"test4")
    case 36
      reset_ksp_timer
      $Engine__lastUIChange := 10
      set_text($Engine__footerLabels4,"test5")
    case 37
      set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
      set_controller(103,$Engine__mainKnobMod)
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
    case 38
      if ($Engine__particleMode=0)
        set_controller(104,0)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      else
        set_controller(104,$Engine__particleDryWet)
        set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
        set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
        set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        if ($Engine__particleStretchMode=1)
          set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
          set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        end if
      end if
    case 39
      if ($Engine__Tempo_sync=0)
        $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
      else
        $Engine__Rate_knob := $Engine__sync_knob*1000001/17
      end if
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 40
      if ($Engine__particleMode=1)
        set_controller(104,$Engine__particleDryWet)
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 11
      set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
    case 41
      if ($Engine__Tempo_sync=0)
        $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
        %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
      else
        $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
        %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
      end if
      reset_ksp_timer
      $Engine__lastUIChange := 12
      set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
      %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
    case 42
      reset_ksp_timer
      $Engine__lastUIChange := 13
      set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
    case 43
      if ($Engine__eqOnOff=0)
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
        set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
        end if
      end if
    case 44
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 14
    case 45
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 15
    case 46
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 16
    case 47
      if ($Engine__bitcrushOnOff=0)
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
        end if
      end if
    case 48
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 17
    case 49
      if ($Engine__delayOnOff=0)
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
        end if
      end if
    case 50
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 18
    case 51
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 19
    case 52
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 20
    case 53
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
    case 54
      if ($Engine__reverbOnOff=0)
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
      else
        set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
        set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
        set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
        if ($Engine__particleFXButton=1)
          set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
        end if
      end if
    case 55
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 21
    case 56
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 22
    case 57
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
    case 58
      reset_ksp_timer
      $Engine__lastUIChange := 23
      set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
    case 59
      reset_ksp_timer
      $Engine__lastUIChange := 24
      set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
    case 60
      reset_ksp_timer
      $Engine__lastUIChange := 25
      set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
    case 61
      while ($i<256)
        %GuiCallBacks__async_ID[$i] := -1
        $i := $i+1
      end while
      $i := 0
      $j := 0
      if (1=0)
        while ($i<22)
          if ($i<11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=11)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      else
        $i := 22
        while ($i<66)
          if ($i<33)
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=33 and ($i<44))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=44 and ($i<55))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          if ($i>=55 and ($i<66))
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
            $j := $j+1
            %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
            $j := $j+1
          end if
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
          $j := $j+1
          $i := $i+1
        end while
        $i := 0
        $j := 0
      end if
      while (%GuiCallBacks__async_ID[$i]>-1)
        wait_async(%GuiCallBacks__async_ID[$i])
        $i := $i+1
      end while
      $i := 0
      reset_ksp_timer
      $Engine__lastUIChange := 26
      set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
    case 63
      if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
      else
        set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
        set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
      end if
    case 64
      reset_ksp_timer
      $Engine__lastUIChange := 27
      set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
    case 65
      reset_ksp_timer
      $Engine__lastUIChange := 28
      set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
    case 66
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 29
    case 67
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 30
    case 68
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
      $Engine__lastUIChange := 31
    case 69
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
      $Engine__lastUIChange := 32
    case 70
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
      set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
      reset_ksp_timer
      set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
      $Engine__lastUIChange := 33
    case 71
      if ($Engine__particleFXButton=0)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
        set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
        if ($Engine__bitcrushOnOff=0)
          set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__eqOnOff=0)
          set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__delayOnOff=0)
          set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
        if ($Engine__reverbOnOff=0)
          set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
          set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
        end if
      else
        if ($Engine__particleFXButton=1)
          if ($Engine__bitcrushOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__eqOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__delayOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
          end if
          if ($Engine__reverbOnOff=1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
          end if
        end if
      end if
    case 72
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
      set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
      reset_ksp_timer
      $Engine__lastUIChange := 34
  end select
end on

on ui_control($Engine__presetPageIndex0)
  set_control_par(get_ui_id($Engine__presetPageIndex0),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex1),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex2),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex3),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex4),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex5),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex6),$CONTROL_PAR_VALUE,0)
  while ($i<7)
    %Engine__presetColumn[$i] := 0
    $i := $i+1
  end while
  $i := 0
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := 0
        if ($i=$Engine__currentCategory and ($j=0) and ($k=%Engine__currentPage[$Engine__currentCategory]))
          %Engine___currentPresetState[2*7*$Engine__currentCategory+(2*0)+%Engine__currentPage[$Engine__currentCategory]] := 1
        end if
        %GuiCallBacks__variableSettingsSave[27+$l] := %Engine___currentPresetState[2*7*$i+(2*$j)+$k]
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  %Engine__presetColumn[0] := 1
  message("preset column " & %Engine__presetColumn[0])
  set_control_par(get_ui_id($Engine__presetPageIndex0),$CONTROL_PAR_VALUE,1)
  message("preset button " & $Engine__presetPageIndex0)
  select ($Engine__currentCategory)
    case 0
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 1
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 2
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 3
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,1)
  end select
  while ($i<$GuiCallBacks__numUIElements)
    %GuiCallBacks__previousValues[$i] := %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$i]
    $i := $i+1
  end while
  $i := 0
  while ($i<22)
    %GuiCallBacks__preSamplePathsIndexState[$i] := %GuiCallBacks__samplePathsIndexState[$i]
    $i := $i+1
  end while
  $i := 0
  %GuiCallBacks__loadPresetArrayID[0] := load_array_str(%GuiCallBacks___settingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_UISettings.nka")
  %GuiCallBacks__loadPresetArrayID[1] := load_array_str(%GuiCallBacks__samplePathsIndexState,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_PathSettings.nka")
  %GuiCallBacks__loadPresetArrayID[2] := load_array_str(%GuiCallBacks__variableSettingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_VariableSettings.nka")
  while (%GuiCallBacks__loadPresetArrayID[0] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[1] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[2] # -1)
    wait(1)
  end while
  message("Begin Load... ... ...")
  while ($i<22)
    %Engine__lockedRandomizers[$i] := %GuiCallBacks__variableSettingsSave[$i]
    $i := $i+1
  end while
  $i := 0
  %Engine__numCurrentLocks[0] := %GuiCallBacks__variableSettingsSave[22]
  %Engine__numCurrentLocks[1] := %GuiCallBacks__variableSettingsSave[23]
  $Engine__Free_knob := %GuiCallBacks__variableSettingsSave[24]
  $Engine__Sync_knob := %GuiCallBacks__variableSettingsSave[25]
  $Engine__delay_time := %GuiCallBacks__variableSettingsSave[26]
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := %GuiCallBacks__variableSettingsSave[27+$l]
        message("current Preset state[" & $i & ", " & $j & ", " & $k & "]: " & %Engine___currentPresetState[2*7*$i+(2*$j)+$k])
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  while ($loadArrayIterator<$GuiCallBacks__numUIElements)
    set_control_par(%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+$loadArrayIterator],$CONTROL_PAR_VALUE,%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator])
    if (%GuiCallBacks__previousValues[$loadArrayIterator] # %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator] or (0=1))
      select ($loadArrayIterator)
        case 0
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 0
        case 1
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 1
        case 2
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 2
        case 3
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 3
        case 4
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 4
        case 5
          call setLoopModes
        case 7
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (0=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 5
        case 30
          if ($Engine__lockRow0=1)
            %Engine__numCurrentLocks[0] := 11
            $Engine__randomPPLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 1
              %GuiCallBacks__variableSettingsSave[$i] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[0] := 0
            $Engine__randomPPLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 0
              %GuiCallBacks__variableSettingsSave[$i] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
        case 31
          if ($Engine__lockRow1=1)
            %Engine__numCurrentLocks[1] := 11
            $Engine__randomFFLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 1
              %GuiCallBacks__variableSettingsSave[$i+11] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[1] := 0
            $Engine__randomFFLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 0
              %GuiCallBacks__variableSettingsSave[$i+11] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
        case 32
          reset_ksp_timer
          set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
          $Engine__lastUIChange := 6
        case 33
          reset_ksp_timer
          $Engine__lastUIChange := 7
          set_text($Engine__footerLabels1,"test2")
        case 34
          reset_ksp_timer
          $Engine__lastUIChange := 8
        case 35
          reset_ksp_timer
          $Engine__lastUIChange := 9
          set_text($Engine__footerLabels3,"test4")
        case 36
          reset_ksp_timer
          $Engine__lastUIChange := 10
          set_text($Engine__footerLabels4,"test5")
        case 37
          set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_controller(103,$Engine__mainKnobMod)
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
        case 38
          if ($Engine__particleMode=0)
            set_controller(104,0)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          else
            set_controller(104,$Engine__particleDryWet)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            if ($Engine__particleStretchMode=1)
              set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
              set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            end if
          end if
        case 39
          if ($Engine__Tempo_sync=0)
            $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
          else
            $Engine__Rate_knob := $Engine__sync_knob*1000001/17
          end if
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 40
          if ($Engine__particleMode=1)
            set_controller(104,$Engine__particleDryWet)
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 11
          set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
        case 41
          if ($Engine__Tempo_sync=0)
            $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
            %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
          else
            $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
            %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 12
          set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 42
          reset_ksp_timer
          $Engine__lastUIChange := 13
          set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
        case 43
          if ($Engine__eqOnOff=0)
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
            end if
          end if
        case 44
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 14
        case 45
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 15
        case 46
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 16
        case 47
          if ($Engine__bitcrushOnOff=0)
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
            end if
          end if
        case 48
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 17
        case 49
          if ($Engine__delayOnOff=0)
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
            end if
          end if
        case 50
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 18
        case 51
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 19
        case 52
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 20
        case 53
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
        case 54
          if ($Engine__reverbOnOff=0)
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
            end if
          end if
        case 55
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 21
        case 56
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 22
        case 57
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
        case 58
          reset_ksp_timer
          $Engine__lastUIChange := 23
          set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
        case 59
          reset_ksp_timer
          $Engine__lastUIChange := 24
          set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
        case 60
          reset_ksp_timer
          $Engine__lastUIChange := 25
          set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
        case 61
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (1=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 26
          set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
        case 63
          if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          else
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          end if
        case 64
          reset_ksp_timer
          $Engine__lastUIChange := 27
          set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
        case 65
          reset_ksp_timer
          $Engine__lastUIChange := 28
          set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
        case 66
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 29
        case 67
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 30
        case 68
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 31
        case 69
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 32
        case 70
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 33
        case 71
          if ($Engine__particleFXButton=0)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
            if ($Engine__bitcrushOnOff=0)
              set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__eqOnOff=0)
              set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__delayOnOff=0)
              set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__reverbOnOff=0)
              set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
          else
            if ($Engine__particleFXButton=1)
              if ($Engine__bitcrushOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__eqOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__delayOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__reverbOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
              end if
            end if
          end if
        case 72
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 34
      end select
    end if
    $loadArrayIterator := $loadArrayIterator+1
  end while
  $loadArrayIterator := 0
  while ($i<22)
    if (%GuiCallBacks__preSamplePathsIndexState[$i] # %GuiCallBacks__samplePathsIndexState[$i] or (0=1))
      message("Made it, needs to be changed at i = " & $i)
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i+22],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      if ($i<11)
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
          case 1
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SaturnButton")
          case 2
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/FishButton")
          case 3
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/DropButton")
        end select
      else
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
          case 1
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/FireButton")
          case 2
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SnowflakeButton")
          case 3
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/BonfireButton")
        end select
      end if
    end if
    $i := $i+1
  end while
  $i := 0
  while (%GuiCallBacks__async_ID[$j]>-1)
    wait_async(%GuiCallBacks__async_ID[$j])
    $j := $j+1
  end while
  $j := 0
  while ($i<256)
    %GuiCallBacks__async_ID[$i] := -1
    $i := $i+1
  end while
  $i := 0
  call setLoopModes
  message("State Loaded!")
end on

on ui_control($Engine__presetPageIndex1)
  set_control_par(get_ui_id($Engine__presetPageIndex0),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex1),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex2),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex3),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex4),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex5),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex6),$CONTROL_PAR_VALUE,0)
  while ($i<7)
    %Engine__presetColumn[$i] := 0
    $i := $i+1
  end while
  $i := 0
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := 0
        if ($i=$Engine__currentCategory and ($j=1) and ($k=%Engine__currentPage[$Engine__currentCategory]))
          %Engine___currentPresetState[2*7*$Engine__currentCategory+(2*1)+%Engine__currentPage[$Engine__currentCategory]] := 1
        end if
        %GuiCallBacks__variableSettingsSave[27+$l] := %Engine___currentPresetState[2*7*$i+(2*$j)+$k]
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  %Engine__presetColumn[1] := 1
  message("preset column " & %Engine__presetColumn[1])
  set_control_par(get_ui_id($Engine__presetPageIndex1),$CONTROL_PAR_VALUE,1)
  message("preset button " & $Engine__presetPageIndex1)
  select ($Engine__currentCategory)
    case 0
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 1
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 2
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 3
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,1)
  end select
  while ($i<$GuiCallBacks__numUIElements)
    %GuiCallBacks__previousValues[$i] := %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$i]
    $i := $i+1
  end while
  $i := 0
  while ($i<22)
    %GuiCallBacks__preSamplePathsIndexState[$i] := %GuiCallBacks__samplePathsIndexState[$i]
    $i := $i+1
  end while
  $i := 0
  %GuiCallBacks__loadPresetArrayID[0] := load_array_str(%GuiCallBacks___settingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_UISettings.nka")
  %GuiCallBacks__loadPresetArrayID[1] := load_array_str(%GuiCallBacks__samplePathsIndexState,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_PathSettings.nka")
  %GuiCallBacks__loadPresetArrayID[2] := load_array_str(%GuiCallBacks__variableSettingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_VariableSettings.nka")
  while (%GuiCallBacks__loadPresetArrayID[0] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[1] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[2] # -1)
    wait(1)
  end while
  message("Begin Load... ... ...")
  while ($i<22)
    %Engine__lockedRandomizers[$i] := %GuiCallBacks__variableSettingsSave[$i]
    $i := $i+1
  end while
  $i := 0
  %Engine__numCurrentLocks[0] := %GuiCallBacks__variableSettingsSave[22]
  %Engine__numCurrentLocks[1] := %GuiCallBacks__variableSettingsSave[23]
  $Engine__Free_knob := %GuiCallBacks__variableSettingsSave[24]
  $Engine__Sync_knob := %GuiCallBacks__variableSettingsSave[25]
  $Engine__delay_time := %GuiCallBacks__variableSettingsSave[26]
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := %GuiCallBacks__variableSettingsSave[27+$l]
        message("current Preset state[" & $i & ", " & $j & ", " & $k & "]: " & %Engine___currentPresetState[2*7*$i+(2*$j)+$k])
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  while ($loadArrayIterator<$GuiCallBacks__numUIElements)
    set_control_par(%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+$loadArrayIterator],$CONTROL_PAR_VALUE,%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator])
    if (%GuiCallBacks__previousValues[$loadArrayIterator] # %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator] or (0=1))
      select ($loadArrayIterator)
        case 0
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 0
        case 1
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 1
        case 2
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 2
        case 3
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 3
        case 4
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 4
        case 5
          call setLoopModes
        case 7
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (0=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 5
        case 30
          if ($Engine__lockRow0=1)
            %Engine__numCurrentLocks[0] := 11
            $Engine__randomPPLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 1
              %GuiCallBacks__variableSettingsSave[$i] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[0] := 0
            $Engine__randomPPLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 0
              %GuiCallBacks__variableSettingsSave[$i] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
        case 31
          if ($Engine__lockRow1=1)
            %Engine__numCurrentLocks[1] := 11
            $Engine__randomFFLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 1
              %GuiCallBacks__variableSettingsSave[$i+11] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[1] := 0
            $Engine__randomFFLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 0
              %GuiCallBacks__variableSettingsSave[$i+11] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
        case 32
          reset_ksp_timer
          set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
          $Engine__lastUIChange := 6
        case 33
          reset_ksp_timer
          $Engine__lastUIChange := 7
          set_text($Engine__footerLabels1,"test2")
        case 34
          reset_ksp_timer
          $Engine__lastUIChange := 8
        case 35
          reset_ksp_timer
          $Engine__lastUIChange := 9
          set_text($Engine__footerLabels3,"test4")
        case 36
          reset_ksp_timer
          $Engine__lastUIChange := 10
          set_text($Engine__footerLabels4,"test5")
        case 37
          set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_controller(103,$Engine__mainKnobMod)
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
        case 38
          if ($Engine__particleMode=0)
            set_controller(104,0)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          else
            set_controller(104,$Engine__particleDryWet)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            if ($Engine__particleStretchMode=1)
              set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
              set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            end if
          end if
        case 39
          if ($Engine__Tempo_sync=0)
            $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
          else
            $Engine__Rate_knob := $Engine__sync_knob*1000001/17
          end if
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 40
          if ($Engine__particleMode=1)
            set_controller(104,$Engine__particleDryWet)
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 11
          set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
        case 41
          if ($Engine__Tempo_sync=0)
            $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
            %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
          else
            $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
            %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 12
          set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 42
          reset_ksp_timer
          $Engine__lastUIChange := 13
          set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
        case 43
          if ($Engine__eqOnOff=0)
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
            end if
          end if
        case 44
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 14
        case 45
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 15
        case 46
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 16
        case 47
          if ($Engine__bitcrushOnOff=0)
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
            end if
          end if
        case 48
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 17
        case 49
          if ($Engine__delayOnOff=0)
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
            end if
          end if
        case 50
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 18
        case 51
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 19
        case 52
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 20
        case 53
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
        case 54
          if ($Engine__reverbOnOff=0)
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
            end if
          end if
        case 55
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 21
        case 56
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 22
        case 57
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
        case 58
          reset_ksp_timer
          $Engine__lastUIChange := 23
          set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
        case 59
          reset_ksp_timer
          $Engine__lastUIChange := 24
          set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
        case 60
          reset_ksp_timer
          $Engine__lastUIChange := 25
          set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
        case 61
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (1=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 26
          set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
        case 63
          if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          else
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          end if
        case 64
          reset_ksp_timer
          $Engine__lastUIChange := 27
          set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
        case 65
          reset_ksp_timer
          $Engine__lastUIChange := 28
          set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
        case 66
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 29
        case 67
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 30
        case 68
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 31
        case 69
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 32
        case 70
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 33
        case 71
          if ($Engine__particleFXButton=0)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
            if ($Engine__bitcrushOnOff=0)
              set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__eqOnOff=0)
              set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__delayOnOff=0)
              set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__reverbOnOff=0)
              set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
          else
            if ($Engine__particleFXButton=1)
              if ($Engine__bitcrushOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__eqOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__delayOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__reverbOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
              end if
            end if
          end if
        case 72
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 34
      end select
    end if
    $loadArrayIterator := $loadArrayIterator+1
  end while
  $loadArrayIterator := 0
  while ($i<22)
    if (%GuiCallBacks__preSamplePathsIndexState[$i] # %GuiCallBacks__samplePathsIndexState[$i] or (0=1))
      message("Made it, needs to be changed at i = " & $i)
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i+22],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      if ($i<11)
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
          case 1
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SaturnButton")
          case 2
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/FishButton")
          case 3
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/DropButton")
        end select
      else
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
          case 1
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/FireButton")
          case 2
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SnowflakeButton")
          case 3
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/BonfireButton")
        end select
      end if
    end if
    $i := $i+1
  end while
  $i := 0
  while (%GuiCallBacks__async_ID[$j]>-1)
    wait_async(%GuiCallBacks__async_ID[$j])
    $j := $j+1
  end while
  $j := 0
  while ($i<256)
    %GuiCallBacks__async_ID[$i] := -1
    $i := $i+1
  end while
  $i := 0
  call setLoopModes
  message("State Loaded!")
end on

on ui_control($Engine__presetPageIndex2)
  set_control_par(get_ui_id($Engine__presetPageIndex0),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex1),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex2),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex3),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex4),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex5),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex6),$CONTROL_PAR_VALUE,0)
  while ($i<7)
    %Engine__presetColumn[$i] := 0
    $i := $i+1
  end while
  $i := 0
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := 0
        if ($i=$Engine__currentCategory and ($j=2) and ($k=%Engine__currentPage[$Engine__currentCategory]))
          %Engine___currentPresetState[2*7*$Engine__currentCategory+(2*2)+%Engine__currentPage[$Engine__currentCategory]] := 1
        end if
        %GuiCallBacks__variableSettingsSave[27+$l] := %Engine___currentPresetState[2*7*$i+(2*$j)+$k]
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  %Engine__presetColumn[2] := 1
  message("preset column " & %Engine__presetColumn[2])
  set_control_par(get_ui_id($Engine__presetPageIndex2),$CONTROL_PAR_VALUE,1)
  message("preset button " & $Engine__presetPageIndex2)
  select ($Engine__currentCategory)
    case 0
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 1
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 2
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 3
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,1)
  end select
  while ($i<$GuiCallBacks__numUIElements)
    %GuiCallBacks__previousValues[$i] := %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$i]
    $i := $i+1
  end while
  $i := 0
  while ($i<22)
    %GuiCallBacks__preSamplePathsIndexState[$i] := %GuiCallBacks__samplePathsIndexState[$i]
    $i := $i+1
  end while
  $i := 0
  %GuiCallBacks__loadPresetArrayID[0] := load_array_str(%GuiCallBacks___settingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_UISettings.nka")
  %GuiCallBacks__loadPresetArrayID[1] := load_array_str(%GuiCallBacks__samplePathsIndexState,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_PathSettings.nka")
  %GuiCallBacks__loadPresetArrayID[2] := load_array_str(%GuiCallBacks__variableSettingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_VariableSettings.nka")
  while (%GuiCallBacks__loadPresetArrayID[0] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[1] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[2] # -1)
    wait(1)
  end while
  message("Begin Load... ... ...")
  while ($i<22)
    %Engine__lockedRandomizers[$i] := %GuiCallBacks__variableSettingsSave[$i]
    $i := $i+1
  end while
  $i := 0
  %Engine__numCurrentLocks[0] := %GuiCallBacks__variableSettingsSave[22]
  %Engine__numCurrentLocks[1] := %GuiCallBacks__variableSettingsSave[23]
  $Engine__Free_knob := %GuiCallBacks__variableSettingsSave[24]
  $Engine__Sync_knob := %GuiCallBacks__variableSettingsSave[25]
  $Engine__delay_time := %GuiCallBacks__variableSettingsSave[26]
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := %GuiCallBacks__variableSettingsSave[27+$l]
        message("current Preset state[" & $i & ", " & $j & ", " & $k & "]: " & %Engine___currentPresetState[2*7*$i+(2*$j)+$k])
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  while ($loadArrayIterator<$GuiCallBacks__numUIElements)
    set_control_par(%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+$loadArrayIterator],$CONTROL_PAR_VALUE,%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator])
    if (%GuiCallBacks__previousValues[$loadArrayIterator] # %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator] or (0=1))
      select ($loadArrayIterator)
        case 0
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 0
        case 1
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 1
        case 2
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 2
        case 3
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 3
        case 4
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 4
        case 5
          call setLoopModes
        case 7
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (0=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 5
        case 30
          if ($Engine__lockRow0=1)
            %Engine__numCurrentLocks[0] := 11
            $Engine__randomPPLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 1
              %GuiCallBacks__variableSettingsSave[$i] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[0] := 0
            $Engine__randomPPLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 0
              %GuiCallBacks__variableSettingsSave[$i] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
        case 31
          if ($Engine__lockRow1=1)
            %Engine__numCurrentLocks[1] := 11
            $Engine__randomFFLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 1
              %GuiCallBacks__variableSettingsSave[$i+11] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[1] := 0
            $Engine__randomFFLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 0
              %GuiCallBacks__variableSettingsSave[$i+11] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
        case 32
          reset_ksp_timer
          set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
          $Engine__lastUIChange := 6
        case 33
          reset_ksp_timer
          $Engine__lastUIChange := 7
          set_text($Engine__footerLabels1,"test2")
        case 34
          reset_ksp_timer
          $Engine__lastUIChange := 8
        case 35
          reset_ksp_timer
          $Engine__lastUIChange := 9
          set_text($Engine__footerLabels3,"test4")
        case 36
          reset_ksp_timer
          $Engine__lastUIChange := 10
          set_text($Engine__footerLabels4,"test5")
        case 37
          set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_controller(103,$Engine__mainKnobMod)
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
        case 38
          if ($Engine__particleMode=0)
            set_controller(104,0)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          else
            set_controller(104,$Engine__particleDryWet)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            if ($Engine__particleStretchMode=1)
              set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
              set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            end if
          end if
        case 39
          if ($Engine__Tempo_sync=0)
            $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
          else
            $Engine__Rate_knob := $Engine__sync_knob*1000001/17
          end if
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 40
          if ($Engine__particleMode=1)
            set_controller(104,$Engine__particleDryWet)
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 11
          set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
        case 41
          if ($Engine__Tempo_sync=0)
            $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
            %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
          else
            $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
            %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 12
          set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 42
          reset_ksp_timer
          $Engine__lastUIChange := 13
          set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
        case 43
          if ($Engine__eqOnOff=0)
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
            end if
          end if
        case 44
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 14
        case 45
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 15
        case 46
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 16
        case 47
          if ($Engine__bitcrushOnOff=0)
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
            end if
          end if
        case 48
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 17
        case 49
          if ($Engine__delayOnOff=0)
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
            end if
          end if
        case 50
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 18
        case 51
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 19
        case 52
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 20
        case 53
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
        case 54
          if ($Engine__reverbOnOff=0)
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
            end if
          end if
        case 55
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 21
        case 56
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 22
        case 57
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
        case 58
          reset_ksp_timer
          $Engine__lastUIChange := 23
          set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
        case 59
          reset_ksp_timer
          $Engine__lastUIChange := 24
          set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
        case 60
          reset_ksp_timer
          $Engine__lastUIChange := 25
          set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
        case 61
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (1=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 26
          set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
        case 63
          if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          else
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          end if
        case 64
          reset_ksp_timer
          $Engine__lastUIChange := 27
          set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
        case 65
          reset_ksp_timer
          $Engine__lastUIChange := 28
          set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
        case 66
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 29
        case 67
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 30
        case 68
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 31
        case 69
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 32
        case 70
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 33
        case 71
          if ($Engine__particleFXButton=0)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
            if ($Engine__bitcrushOnOff=0)
              set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__eqOnOff=0)
              set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__delayOnOff=0)
              set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__reverbOnOff=0)
              set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
          else
            if ($Engine__particleFXButton=1)
              if ($Engine__bitcrushOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__eqOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__delayOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__reverbOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
              end if
            end if
          end if
        case 72
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 34
      end select
    end if
    $loadArrayIterator := $loadArrayIterator+1
  end while
  $loadArrayIterator := 0
  while ($i<22)
    if (%GuiCallBacks__preSamplePathsIndexState[$i] # %GuiCallBacks__samplePathsIndexState[$i] or (0=1))
      message("Made it, needs to be changed at i = " & $i)
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i+22],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      if ($i<11)
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
          case 1
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SaturnButton")
          case 2
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/FishButton")
          case 3
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/DropButton")
        end select
      else
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
          case 1
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/FireButton")
          case 2
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SnowflakeButton")
          case 3
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/BonfireButton")
        end select
      end if
    end if
    $i := $i+1
  end while
  $i := 0
  while (%GuiCallBacks__async_ID[$j]>-1)
    wait_async(%GuiCallBacks__async_ID[$j])
    $j := $j+1
  end while
  $j := 0
  while ($i<256)
    %GuiCallBacks__async_ID[$i] := -1
    $i := $i+1
  end while
  $i := 0
  call setLoopModes
  message("State Loaded!")
end on

on ui_control($Engine__presetPageIndex3)
  set_control_par(get_ui_id($Engine__presetPageIndex0),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex1),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex2),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex3),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex4),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex5),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex6),$CONTROL_PAR_VALUE,0)
  while ($i<7)
    %Engine__presetColumn[$i] := 0
    $i := $i+1
  end while
  $i := 0
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := 0
        if ($i=$Engine__currentCategory and ($j=3) and ($k=%Engine__currentPage[$Engine__currentCategory]))
          %Engine___currentPresetState[2*7*$Engine__currentCategory+(2*3)+%Engine__currentPage[$Engine__currentCategory]] := 1
        end if
        %GuiCallBacks__variableSettingsSave[27+$l] := %Engine___currentPresetState[2*7*$i+(2*$j)+$k]
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  %Engine__presetColumn[3] := 1
  message("preset column " & %Engine__presetColumn[3])
  set_control_par(get_ui_id($Engine__presetPageIndex3),$CONTROL_PAR_VALUE,1)
  message("preset button " & $Engine__presetPageIndex3)
  select ($Engine__currentCategory)
    case 0
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 1
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 2
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 3
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,1)
  end select
  while ($i<$GuiCallBacks__numUIElements)
    %GuiCallBacks__previousValues[$i] := %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$i]
    $i := $i+1
  end while
  $i := 0
  while ($i<22)
    %GuiCallBacks__preSamplePathsIndexState[$i] := %GuiCallBacks__samplePathsIndexState[$i]
    $i := $i+1
  end while
  $i := 0
  %GuiCallBacks__loadPresetArrayID[0] := load_array_str(%GuiCallBacks___settingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_UISettings.nka")
  %GuiCallBacks__loadPresetArrayID[1] := load_array_str(%GuiCallBacks__samplePathsIndexState,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_PathSettings.nka")
  %GuiCallBacks__loadPresetArrayID[2] := load_array_str(%GuiCallBacks__variableSettingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_VariableSettings.nka")
  while (%GuiCallBacks__loadPresetArrayID[0] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[1] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[2] # -1)
    wait(1)
  end while
  message("Begin Load... ... ...")
  while ($i<22)
    %Engine__lockedRandomizers[$i] := %GuiCallBacks__variableSettingsSave[$i]
    $i := $i+1
  end while
  $i := 0
  %Engine__numCurrentLocks[0] := %GuiCallBacks__variableSettingsSave[22]
  %Engine__numCurrentLocks[1] := %GuiCallBacks__variableSettingsSave[23]
  $Engine__Free_knob := %GuiCallBacks__variableSettingsSave[24]
  $Engine__Sync_knob := %GuiCallBacks__variableSettingsSave[25]
  $Engine__delay_time := %GuiCallBacks__variableSettingsSave[26]
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := %GuiCallBacks__variableSettingsSave[27+$l]
        message("current Preset state[" & $i & ", " & $j & ", " & $k & "]: " & %Engine___currentPresetState[2*7*$i+(2*$j)+$k])
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  while ($loadArrayIterator<$GuiCallBacks__numUIElements)
    set_control_par(%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+$loadArrayIterator],$CONTROL_PAR_VALUE,%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator])
    if (%GuiCallBacks__previousValues[$loadArrayIterator] # %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator] or (0=1))
      select ($loadArrayIterator)
        case 0
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 0
        case 1
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 1
        case 2
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 2
        case 3
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 3
        case 4
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 4
        case 5
          call setLoopModes
        case 7
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (0=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 5
        case 30
          if ($Engine__lockRow0=1)
            %Engine__numCurrentLocks[0] := 11
            $Engine__randomPPLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 1
              %GuiCallBacks__variableSettingsSave[$i] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[0] := 0
            $Engine__randomPPLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 0
              %GuiCallBacks__variableSettingsSave[$i] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
        case 31
          if ($Engine__lockRow1=1)
            %Engine__numCurrentLocks[1] := 11
            $Engine__randomFFLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 1
              %GuiCallBacks__variableSettingsSave[$i+11] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[1] := 0
            $Engine__randomFFLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 0
              %GuiCallBacks__variableSettingsSave[$i+11] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
        case 32
          reset_ksp_timer
          set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
          $Engine__lastUIChange := 6
        case 33
          reset_ksp_timer
          $Engine__lastUIChange := 7
          set_text($Engine__footerLabels1,"test2")
        case 34
          reset_ksp_timer
          $Engine__lastUIChange := 8
        case 35
          reset_ksp_timer
          $Engine__lastUIChange := 9
          set_text($Engine__footerLabels3,"test4")
        case 36
          reset_ksp_timer
          $Engine__lastUIChange := 10
          set_text($Engine__footerLabels4,"test5")
        case 37
          set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_controller(103,$Engine__mainKnobMod)
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
        case 38
          if ($Engine__particleMode=0)
            set_controller(104,0)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          else
            set_controller(104,$Engine__particleDryWet)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            if ($Engine__particleStretchMode=1)
              set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
              set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            end if
          end if
        case 39
          if ($Engine__Tempo_sync=0)
            $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
          else
            $Engine__Rate_knob := $Engine__sync_knob*1000001/17
          end if
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 40
          if ($Engine__particleMode=1)
            set_controller(104,$Engine__particleDryWet)
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 11
          set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
        case 41
          if ($Engine__Tempo_sync=0)
            $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
            %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
          else
            $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
            %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 12
          set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 42
          reset_ksp_timer
          $Engine__lastUIChange := 13
          set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
        case 43
          if ($Engine__eqOnOff=0)
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
            end if
          end if
        case 44
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 14
        case 45
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 15
        case 46
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 16
        case 47
          if ($Engine__bitcrushOnOff=0)
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
            end if
          end if
        case 48
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 17
        case 49
          if ($Engine__delayOnOff=0)
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
            end if
          end if
        case 50
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 18
        case 51
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 19
        case 52
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 20
        case 53
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
        case 54
          if ($Engine__reverbOnOff=0)
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
            end if
          end if
        case 55
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 21
        case 56
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 22
        case 57
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
        case 58
          reset_ksp_timer
          $Engine__lastUIChange := 23
          set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
        case 59
          reset_ksp_timer
          $Engine__lastUIChange := 24
          set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
        case 60
          reset_ksp_timer
          $Engine__lastUIChange := 25
          set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
        case 61
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (1=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 26
          set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
        case 63
          if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          else
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          end if
        case 64
          reset_ksp_timer
          $Engine__lastUIChange := 27
          set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
        case 65
          reset_ksp_timer
          $Engine__lastUIChange := 28
          set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
        case 66
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 29
        case 67
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 30
        case 68
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 31
        case 69
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 32
        case 70
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 33
        case 71
          if ($Engine__particleFXButton=0)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
            if ($Engine__bitcrushOnOff=0)
              set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__eqOnOff=0)
              set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__delayOnOff=0)
              set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__reverbOnOff=0)
              set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
          else
            if ($Engine__particleFXButton=1)
              if ($Engine__bitcrushOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__eqOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__delayOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__reverbOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
              end if
            end if
          end if
        case 72
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 34
      end select
    end if
    $loadArrayIterator := $loadArrayIterator+1
  end while
  $loadArrayIterator := 0
  while ($i<22)
    if (%GuiCallBacks__preSamplePathsIndexState[$i] # %GuiCallBacks__samplePathsIndexState[$i] or (0=1))
      message("Made it, needs to be changed at i = " & $i)
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i+22],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      if ($i<11)
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
          case 1
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SaturnButton")
          case 2
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/FishButton")
          case 3
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/DropButton")
        end select
      else
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
          case 1
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/FireButton")
          case 2
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SnowflakeButton")
          case 3
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/BonfireButton")
        end select
      end if
    end if
    $i := $i+1
  end while
  $i := 0
  while (%GuiCallBacks__async_ID[$j]>-1)
    wait_async(%GuiCallBacks__async_ID[$j])
    $j := $j+1
  end while
  $j := 0
  while ($i<256)
    %GuiCallBacks__async_ID[$i] := -1
    $i := $i+1
  end while
  $i := 0
  call setLoopModes
  message("State Loaded!")
end on

on ui_control($Engine__presetPageIndex4)
  set_control_par(get_ui_id($Engine__presetPageIndex0),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex1),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex2),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex3),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex4),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex5),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex6),$CONTROL_PAR_VALUE,0)
  while ($i<7)
    %Engine__presetColumn[$i] := 0
    $i := $i+1
  end while
  $i := 0
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := 0
        if ($i=$Engine__currentCategory and ($j=4) and ($k=%Engine__currentPage[$Engine__currentCategory]))
          %Engine___currentPresetState[2*7*$Engine__currentCategory+(2*4)+%Engine__currentPage[$Engine__currentCategory]] := 1
        end if
        %GuiCallBacks__variableSettingsSave[27+$l] := %Engine___currentPresetState[2*7*$i+(2*$j)+$k]
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  %Engine__presetColumn[4] := 1
  message("preset column " & %Engine__presetColumn[4])
  set_control_par(get_ui_id($Engine__presetPageIndex4),$CONTROL_PAR_VALUE,1)
  message("preset button " & $Engine__presetPageIndex4)
  select ($Engine__currentCategory)
    case 0
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 1
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 2
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 3
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,1)
  end select
  while ($i<$GuiCallBacks__numUIElements)
    %GuiCallBacks__previousValues[$i] := %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$i]
    $i := $i+1
  end while
  $i := 0
  while ($i<22)
    %GuiCallBacks__preSamplePathsIndexState[$i] := %GuiCallBacks__samplePathsIndexState[$i]
    $i := $i+1
  end while
  $i := 0
  %GuiCallBacks__loadPresetArrayID[0] := load_array_str(%GuiCallBacks___settingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_UISettings.nka")
  %GuiCallBacks__loadPresetArrayID[1] := load_array_str(%GuiCallBacks__samplePathsIndexState,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_PathSettings.nka")
  %GuiCallBacks__loadPresetArrayID[2] := load_array_str(%GuiCallBacks__variableSettingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_VariableSettings.nka")
  while (%GuiCallBacks__loadPresetArrayID[0] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[1] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[2] # -1)
    wait(1)
  end while
  message("Begin Load... ... ...")
  while ($i<22)
    %Engine__lockedRandomizers[$i] := %GuiCallBacks__variableSettingsSave[$i]
    $i := $i+1
  end while
  $i := 0
  %Engine__numCurrentLocks[0] := %GuiCallBacks__variableSettingsSave[22]
  %Engine__numCurrentLocks[1] := %GuiCallBacks__variableSettingsSave[23]
  $Engine__Free_knob := %GuiCallBacks__variableSettingsSave[24]
  $Engine__Sync_knob := %GuiCallBacks__variableSettingsSave[25]
  $Engine__delay_time := %GuiCallBacks__variableSettingsSave[26]
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := %GuiCallBacks__variableSettingsSave[27+$l]
        message("current Preset state[" & $i & ", " & $j & ", " & $k & "]: " & %Engine___currentPresetState[2*7*$i+(2*$j)+$k])
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  while ($loadArrayIterator<$GuiCallBacks__numUIElements)
    set_control_par(%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+$loadArrayIterator],$CONTROL_PAR_VALUE,%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator])
    if (%GuiCallBacks__previousValues[$loadArrayIterator] # %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator] or (0=1))
      select ($loadArrayIterator)
        case 0
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 0
        case 1
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 1
        case 2
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 2
        case 3
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 3
        case 4
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 4
        case 5
          call setLoopModes
        case 7
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (0=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 5
        case 30
          if ($Engine__lockRow0=1)
            %Engine__numCurrentLocks[0] := 11
            $Engine__randomPPLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 1
              %GuiCallBacks__variableSettingsSave[$i] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[0] := 0
            $Engine__randomPPLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 0
              %GuiCallBacks__variableSettingsSave[$i] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
        case 31
          if ($Engine__lockRow1=1)
            %Engine__numCurrentLocks[1] := 11
            $Engine__randomFFLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 1
              %GuiCallBacks__variableSettingsSave[$i+11] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[1] := 0
            $Engine__randomFFLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 0
              %GuiCallBacks__variableSettingsSave[$i+11] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
        case 32
          reset_ksp_timer
          set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
          $Engine__lastUIChange := 6
        case 33
          reset_ksp_timer
          $Engine__lastUIChange := 7
          set_text($Engine__footerLabels1,"test2")
        case 34
          reset_ksp_timer
          $Engine__lastUIChange := 8
        case 35
          reset_ksp_timer
          $Engine__lastUIChange := 9
          set_text($Engine__footerLabels3,"test4")
        case 36
          reset_ksp_timer
          $Engine__lastUIChange := 10
          set_text($Engine__footerLabels4,"test5")
        case 37
          set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_controller(103,$Engine__mainKnobMod)
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
        case 38
          if ($Engine__particleMode=0)
            set_controller(104,0)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          else
            set_controller(104,$Engine__particleDryWet)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            if ($Engine__particleStretchMode=1)
              set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
              set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            end if
          end if
        case 39
          if ($Engine__Tempo_sync=0)
            $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
          else
            $Engine__Rate_knob := $Engine__sync_knob*1000001/17
          end if
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 40
          if ($Engine__particleMode=1)
            set_controller(104,$Engine__particleDryWet)
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 11
          set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
        case 41
          if ($Engine__Tempo_sync=0)
            $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
            %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
          else
            $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
            %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 12
          set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 42
          reset_ksp_timer
          $Engine__lastUIChange := 13
          set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
        case 43
          if ($Engine__eqOnOff=0)
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
            end if
          end if
        case 44
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 14
        case 45
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 15
        case 46
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 16
        case 47
          if ($Engine__bitcrushOnOff=0)
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
            end if
          end if
        case 48
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 17
        case 49
          if ($Engine__delayOnOff=0)
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
            end if
          end if
        case 50
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 18
        case 51
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 19
        case 52
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 20
        case 53
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
        case 54
          if ($Engine__reverbOnOff=0)
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
            end if
          end if
        case 55
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 21
        case 56
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 22
        case 57
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
        case 58
          reset_ksp_timer
          $Engine__lastUIChange := 23
          set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
        case 59
          reset_ksp_timer
          $Engine__lastUIChange := 24
          set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
        case 60
          reset_ksp_timer
          $Engine__lastUIChange := 25
          set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
        case 61
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (1=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 26
          set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
        case 63
          if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          else
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          end if
        case 64
          reset_ksp_timer
          $Engine__lastUIChange := 27
          set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
        case 65
          reset_ksp_timer
          $Engine__lastUIChange := 28
          set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
        case 66
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 29
        case 67
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 30
        case 68
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 31
        case 69
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 32
        case 70
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 33
        case 71
          if ($Engine__particleFXButton=0)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
            if ($Engine__bitcrushOnOff=0)
              set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__eqOnOff=0)
              set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__delayOnOff=0)
              set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__reverbOnOff=0)
              set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
          else
            if ($Engine__particleFXButton=1)
              if ($Engine__bitcrushOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__eqOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__delayOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__reverbOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
              end if
            end if
          end if
        case 72
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 34
      end select
    end if
    $loadArrayIterator := $loadArrayIterator+1
  end while
  $loadArrayIterator := 0
  while ($i<22)
    if (%GuiCallBacks__preSamplePathsIndexState[$i] # %GuiCallBacks__samplePathsIndexState[$i] or (0=1))
      message("Made it, needs to be changed at i = " & $i)
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i+22],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      if ($i<11)
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
          case 1
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SaturnButton")
          case 2
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/FishButton")
          case 3
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/DropButton")
        end select
      else
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
          case 1
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/FireButton")
          case 2
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SnowflakeButton")
          case 3
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/BonfireButton")
        end select
      end if
    end if
    $i := $i+1
  end while
  $i := 0
  while (%GuiCallBacks__async_ID[$j]>-1)
    wait_async(%GuiCallBacks__async_ID[$j])
    $j := $j+1
  end while
  $j := 0
  while ($i<256)
    %GuiCallBacks__async_ID[$i] := -1
    $i := $i+1
  end while
  $i := 0
  call setLoopModes
  message("State Loaded!")
end on

on ui_control($Engine__presetPageIndex5)
  set_control_par(get_ui_id($Engine__presetPageIndex0),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex1),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex2),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex3),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex4),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex5),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex6),$CONTROL_PAR_VALUE,0)
  while ($i<7)
    %Engine__presetColumn[$i] := 0
    $i := $i+1
  end while
  $i := 0
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := 0
        if ($i=$Engine__currentCategory and ($j=5) and ($k=%Engine__currentPage[$Engine__currentCategory]))
          %Engine___currentPresetState[2*7*$Engine__currentCategory+(2*5)+%Engine__currentPage[$Engine__currentCategory]] := 1
        end if
        %GuiCallBacks__variableSettingsSave[27+$l] := %Engine___currentPresetState[2*7*$i+(2*$j)+$k]
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  %Engine__presetColumn[5] := 1
  message("preset column " & %Engine__presetColumn[5])
  set_control_par(get_ui_id($Engine__presetPageIndex5),$CONTROL_PAR_VALUE,1)
  message("preset button " & $Engine__presetPageIndex5)
  select ($Engine__currentCategory)
    case 0
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 1
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 2
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 3
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,1)
  end select
  while ($i<$GuiCallBacks__numUIElements)
    %GuiCallBacks__previousValues[$i] := %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$i]
    $i := $i+1
  end while
  $i := 0
  while ($i<22)
    %GuiCallBacks__preSamplePathsIndexState[$i] := %GuiCallBacks__samplePathsIndexState[$i]
    $i := $i+1
  end while
  $i := 0
  %GuiCallBacks__loadPresetArrayID[0] := load_array_str(%GuiCallBacks___settingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_UISettings.nka")
  %GuiCallBacks__loadPresetArrayID[1] := load_array_str(%GuiCallBacks__samplePathsIndexState,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_PathSettings.nka")
  %GuiCallBacks__loadPresetArrayID[2] := load_array_str(%GuiCallBacks__variableSettingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_VariableSettings.nka")
  while (%GuiCallBacks__loadPresetArrayID[0] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[1] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[2] # -1)
    wait(1)
  end while
  message("Begin Load... ... ...")
  while ($i<22)
    %Engine__lockedRandomizers[$i] := %GuiCallBacks__variableSettingsSave[$i]
    $i := $i+1
  end while
  $i := 0
  %Engine__numCurrentLocks[0] := %GuiCallBacks__variableSettingsSave[22]
  %Engine__numCurrentLocks[1] := %GuiCallBacks__variableSettingsSave[23]
  $Engine__Free_knob := %GuiCallBacks__variableSettingsSave[24]
  $Engine__Sync_knob := %GuiCallBacks__variableSettingsSave[25]
  $Engine__delay_time := %GuiCallBacks__variableSettingsSave[26]
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := %GuiCallBacks__variableSettingsSave[27+$l]
        message("current Preset state[" & $i & ", " & $j & ", " & $k & "]: " & %Engine___currentPresetState[2*7*$i+(2*$j)+$k])
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  while ($loadArrayIterator<$GuiCallBacks__numUIElements)
    set_control_par(%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+$loadArrayIterator],$CONTROL_PAR_VALUE,%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator])
    if (%GuiCallBacks__previousValues[$loadArrayIterator] # %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator] or (0=1))
      select ($loadArrayIterator)
        case 0
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 0
        case 1
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 1
        case 2
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 2
        case 3
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 3
        case 4
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 4
        case 5
          call setLoopModes
        case 7
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (0=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 5
        case 30
          if ($Engine__lockRow0=1)
            %Engine__numCurrentLocks[0] := 11
            $Engine__randomPPLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 1
              %GuiCallBacks__variableSettingsSave[$i] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[0] := 0
            $Engine__randomPPLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 0
              %GuiCallBacks__variableSettingsSave[$i] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
        case 31
          if ($Engine__lockRow1=1)
            %Engine__numCurrentLocks[1] := 11
            $Engine__randomFFLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 1
              %GuiCallBacks__variableSettingsSave[$i+11] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[1] := 0
            $Engine__randomFFLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 0
              %GuiCallBacks__variableSettingsSave[$i+11] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
        case 32
          reset_ksp_timer
          set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
          $Engine__lastUIChange := 6
        case 33
          reset_ksp_timer
          $Engine__lastUIChange := 7
          set_text($Engine__footerLabels1,"test2")
        case 34
          reset_ksp_timer
          $Engine__lastUIChange := 8
        case 35
          reset_ksp_timer
          $Engine__lastUIChange := 9
          set_text($Engine__footerLabels3,"test4")
        case 36
          reset_ksp_timer
          $Engine__lastUIChange := 10
          set_text($Engine__footerLabels4,"test5")
        case 37
          set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_controller(103,$Engine__mainKnobMod)
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
        case 38
          if ($Engine__particleMode=0)
            set_controller(104,0)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          else
            set_controller(104,$Engine__particleDryWet)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            if ($Engine__particleStretchMode=1)
              set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
              set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            end if
          end if
        case 39
          if ($Engine__Tempo_sync=0)
            $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
          else
            $Engine__Rate_knob := $Engine__sync_knob*1000001/17
          end if
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 40
          if ($Engine__particleMode=1)
            set_controller(104,$Engine__particleDryWet)
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 11
          set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
        case 41
          if ($Engine__Tempo_sync=0)
            $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
            %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
          else
            $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
            %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 12
          set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 42
          reset_ksp_timer
          $Engine__lastUIChange := 13
          set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
        case 43
          if ($Engine__eqOnOff=0)
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
            end if
          end if
        case 44
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 14
        case 45
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 15
        case 46
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 16
        case 47
          if ($Engine__bitcrushOnOff=0)
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
            end if
          end if
        case 48
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 17
        case 49
          if ($Engine__delayOnOff=0)
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
            end if
          end if
        case 50
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 18
        case 51
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 19
        case 52
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 20
        case 53
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
        case 54
          if ($Engine__reverbOnOff=0)
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
            end if
          end if
        case 55
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 21
        case 56
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 22
        case 57
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
        case 58
          reset_ksp_timer
          $Engine__lastUIChange := 23
          set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
        case 59
          reset_ksp_timer
          $Engine__lastUIChange := 24
          set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
        case 60
          reset_ksp_timer
          $Engine__lastUIChange := 25
          set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
        case 61
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (1=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 26
          set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
        case 63
          if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          else
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          end if
        case 64
          reset_ksp_timer
          $Engine__lastUIChange := 27
          set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
        case 65
          reset_ksp_timer
          $Engine__lastUIChange := 28
          set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
        case 66
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 29
        case 67
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 30
        case 68
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 31
        case 69
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 32
        case 70
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 33
        case 71
          if ($Engine__particleFXButton=0)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
            if ($Engine__bitcrushOnOff=0)
              set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__eqOnOff=0)
              set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__delayOnOff=0)
              set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__reverbOnOff=0)
              set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
          else
            if ($Engine__particleFXButton=1)
              if ($Engine__bitcrushOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__eqOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__delayOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__reverbOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
              end if
            end if
          end if
        case 72
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 34
      end select
    end if
    $loadArrayIterator := $loadArrayIterator+1
  end while
  $loadArrayIterator := 0
  while ($i<22)
    if (%GuiCallBacks__preSamplePathsIndexState[$i] # %GuiCallBacks__samplePathsIndexState[$i] or (0=1))
      message("Made it, needs to be changed at i = " & $i)
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i+22],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      if ($i<11)
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
          case 1
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SaturnButton")
          case 2
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/FishButton")
          case 3
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/DropButton")
        end select
      else
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
          case 1
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/FireButton")
          case 2
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SnowflakeButton")
          case 3
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/BonfireButton")
        end select
      end if
    end if
    $i := $i+1
  end while
  $i := 0
  while (%GuiCallBacks__async_ID[$j]>-1)
    wait_async(%GuiCallBacks__async_ID[$j])
    $j := $j+1
  end while
  $j := 0
  while ($i<256)
    %GuiCallBacks__async_ID[$i] := -1
    $i := $i+1
  end while
  $i := 0
  call setLoopModes
  message("State Loaded!")
end on

on ui_control($Engine__presetPageIndex6)
  set_control_par(get_ui_id($Engine__presetPageIndex0),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex1),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex2),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex3),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex4),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex5),$CONTROL_PAR_VALUE,0)
  set_control_par(get_ui_id($Engine__presetPageIndex6),$CONTROL_PAR_VALUE,0)
  while ($i<7)
    %Engine__presetColumn[$i] := 0
    $i := $i+1
  end while
  $i := 0
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := 0
        if ($i=$Engine__currentCategory and ($j=6) and ($k=%Engine__currentPage[$Engine__currentCategory]))
          %Engine___currentPresetState[2*7*$Engine__currentCategory+(2*6)+%Engine__currentPage[$Engine__currentCategory]] := 1
        end if
        %GuiCallBacks__variableSettingsSave[27+$l] := %Engine___currentPresetState[2*7*$i+(2*$j)+$k]
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  %Engine__presetColumn[6] := 1
  message("preset column " & %Engine__presetColumn[6])
  set_control_par(get_ui_id($Engine__presetPageIndex6),$CONTROL_PAR_VALUE,1)
  message("preset button " & $Engine__presetPageIndex6)
  select ($Engine__currentCategory)
    case 0
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 1
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 2
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,1)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,0)
    case 3
      set_control_par(%Engine__catLightUp[0],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[1],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[2],$CONTROL_PAR_PICTURE_STATE,0)
      set_control_par(%Engine__catLightUp[3],$CONTROL_PAR_PICTURE_STATE,1)
  end select
  while ($i<$GuiCallBacks__numUIElements)
    %GuiCallBacks__previousValues[$i] := %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$i]
    $i := $i+1
  end while
  $i := 0
  while ($i<22)
    %GuiCallBacks__preSamplePathsIndexState[$i] := %GuiCallBacks__samplePathsIndexState[$i]
    $i := $i+1
  end while
  $i := 0
  %GuiCallBacks__loadPresetArrayID[0] := load_array_str(%GuiCallBacks___settingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_UISettings.nka")
  %GuiCallBacks__loadPresetArrayID[1] := load_array_str(%GuiCallBacks__samplePathsIndexState,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_PathSettings.nka")
  %GuiCallBacks__loadPresetArrayID[2] := load_array_str(%GuiCallBacks__variableSettingsSave,@GuiCallBacks__basepath & "Data/" & $Engine__currentCategory & "-" & search(%Engine__presetColumn,1) & "-" & %Engine__currentPage[$Engine__currentCategory] & "_VariableSettings.nka")
  while (%GuiCallBacks__loadPresetArrayID[0] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[1] # -1)
    wait(1)
  end while
  while (%GuiCallBacks__loadPresetArrayID[2] # -1)
    wait(1)
  end while
  message("Begin Load... ... ...")
  while ($i<22)
    %Engine__lockedRandomizers[$i] := %GuiCallBacks__variableSettingsSave[$i]
    $i := $i+1
  end while
  $i := 0
  %Engine__numCurrentLocks[0] := %GuiCallBacks__variableSettingsSave[22]
  %Engine__numCurrentLocks[1] := %GuiCallBacks__variableSettingsSave[23]
  $Engine__Free_knob := %GuiCallBacks__variableSettingsSave[24]
  $Engine__Sync_knob := %GuiCallBacks__variableSettingsSave[25]
  $Engine__delay_time := %GuiCallBacks__variableSettingsSave[26]
  while ($i<4)
    while ($j<7)
      while ($k<2)
        %Engine___currentPresetState[2*7*$i+(2*$j)+$k] := %GuiCallBacks__variableSettingsSave[27+$l]
        message("current Preset state[" & $i & ", " & $j & ", " & $k & "]: " & %Engine___currentPresetState[2*7*$i+(2*$j)+$k])
        $l := $l+1
        $k := $k+1
      end while
      $k := 0
      $j := $j+1
    end while
    $j := 0
    $i := $i+1
  end while
  $i := 0
  $l := 0
  while ($loadArrayIterator<$GuiCallBacks__numUIElements)
    set_control_par(%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*0+$loadArrayIterator],$CONTROL_PAR_VALUE,%GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator])
    if (%GuiCallBacks__previousValues[$loadArrayIterator] # %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+$loadArrayIterator] or (0=1))
      select ($loadArrayIterator)
        case 0
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__attackKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 0
        case 1
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__decayKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__decayLabel,get_engine_par_disp($ENGINE_PAR_DECAY,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 1
        case 2
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__sustainKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__sustainLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 2
        case 3
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__releaseKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__releaseLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 3
        case 4
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__attackCurveKnob,1,find_mod(1,"ENV 1"),find_target(1,find_mod(1,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__attackCurveLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,0,find_mod(0,"ENV 1"),find_target(0,find_mod(0,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 4
        case 5
          call setLoopModes
        case 7
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (0=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__crossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__crossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 5
        case 30
          if ($Engine__lockRow0=1)
            %Engine__numCurrentLocks[0] := 11
            $Engine__randomPPLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 1
              %GuiCallBacks__variableSettingsSave[$i] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[0] := 0
            $Engine__randomPPLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
            $Engine__randomPPLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
            $Engine__randomPPLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
            $Engine__randomPPLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
            $Engine__randomPPLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
            $Engine__randomPPLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
            $Engine__randomPPLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
            $Engine__randomPPLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
            $Engine__randomPPLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
            $Engine__randomPPLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
            $Engine__randomPPLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i] := 0
              %GuiCallBacks__variableSettingsSave[$i] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+30] := $Engine__lockRow0
        case 31
          if ($Engine__lockRow1=1)
            %Engine__numCurrentLocks[1] := 11
            $Engine__randomFFLocks0 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 1
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 1
              %GuiCallBacks__variableSettingsSave[$i+11] := 1
              $i := $i+1
            end while
          else
            %Engine__numCurrentLocks[1] := 0
            $Engine__randomFFLocks0 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
            $Engine__randomFFLocks1 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
            $Engine__randomFFLocks2 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
            $Engine__randomFFLocks3 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
            $Engine__randomFFLocks4 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
            $Engine__randomFFLocks5 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
            $Engine__randomFFLocks6 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
            $Engine__randomFFLocks7 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
            $Engine__randomFFLocks8 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
            $Engine__randomFFLocks9 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
            $Engine__randomFFLocks10 := 0
            %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
            while ($i<11)
              %Engine__lockedRandomizers[$i+11] := 0
              %GuiCallBacks__variableSettingsSave[$i+11] := 0
              $i := $i+1
            end while
          end if
          $i := 0
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow1
        case 32
          reset_ksp_timer
          set_text($Engine__footerLabels0,$Engine__crossfadeKnob & " semitones")
          $Engine__lastUIChange := 6
        case 33
          reset_ksp_timer
          $Engine__lastUIChange := 7
          set_text($Engine__footerLabels1,"test2")
        case 34
          reset_ksp_timer
          $Engine__lastUIChange := 8
        case 35
          reset_ksp_timer
          $Engine__lastUIChange := 9
          set_text($Engine__footerLabels3,"test4")
        case 36
          reset_ksp_timer
          $Engine__lastUIChange := 10
          set_text($Engine__footerLabels4,"test5")
        case 37
          set_control_par(get_ui_id($Engine__modBackgroundLabel),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_control_par(get_ui_id($Engine__modBackgroundLabelBlur),$CONTROL_PAR_PICTURE_STATE,$Engine__mainKnobMod)
          set_controller(103,$Engine__mainKnobMod)
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+37] := $Engine__mainKnobMod
        case 38
          if ($Engine__particleMode=0)
            set_controller(104,0)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnobDisabled")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          else
            set_controller(104,$Engine__particleDryWet)
            set_control_par_str(get_ui_id($Engine__particleDryWet),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11BiPolar")
            set_control_par_str(get_ui_id($Engine__Rate_knob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__timeVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleOctave),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSpread),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleVolVariation),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleCrossfadeKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleDecayKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleSustainKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleReleaseKnob),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleAttackCurveKnob),$CONTROL_PAR_PICTURE,"/Knobs/AttackCharacterKnob")
            set_control_par_str(get_ui_id($Engine__particleReverseMode),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__particleMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleOctaveLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSpreadLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleVolVariationLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleCrossfadeKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleDecayKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleSustainKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleReleaseKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleAttackCurveKnobLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            if ($Engine__particleStretchMode=1)
              set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
              set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
              set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            end if
          end if
        case 39
          if ($Engine__Tempo_sync=0)
            $Engine__Rate_knob := ($Engine__free_knob-20)*1000000/980
          else
            $Engine__Rate_knob := $Engine__sync_knob*1000001/17
          end if
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 40
          if ($Engine__particleMode=1)
            set_controller(104,$Engine__particleDryWet)
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 11
          set_text($Engine__particleMixLabel,$Engine__particleDryWet & "%")
        case 41
          if ($Engine__Tempo_sync=0)
            $Engine__Free_knob := $Engine__Rate_knob*980/1000000+20
            %GuiCallBacks__variableSettingsSave[24] := $Engine__Free_knob
          else
            $Engine__Sync_knob := $Engine__Rate_knob*18/1000001
            %GuiCallBacks__variableSettingsSave[25] := $Engine__Sync_knob
          end if
          reset_ksp_timer
          $Engine__lastUIChange := 12
          set_text($Engine__particleRateLabel,$Engine__Rate_knob & "%")
          %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+41] := $Engine__Rate_knob
        case 42
          reset_ksp_timer
          $Engine__lastUIChange := 13
          set_text($Engine__particleVariationLabel,$Engine__timeVariation & "%")
        case 43
          if ($Engine__eqOnOff=0)
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolarDisabled")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11BiPolar")
            set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
            end if
          end if
        case 44
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_HF_GAIN,$Engine__highShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 14
        case 45
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LMF_GAIN,$Engine__midBand,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 15
        case 46
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_SEQ_LF_GAIN,$Engine__lowShelf,-1,1,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 16
        case 47
          if ($Engine__bitcrushOnOff=0)
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
            end if
          end if
        case 48
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_FREQUENCY,$Engine__sampleRate,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 17
        case 49
          if ($Engine__delayOnOff=0)
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
            end if
          end if
        case 50
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_TIME,$Engine__delayRate,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 18
        case 51
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_FEEDBACK,$Engine__delayFeedback,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 19
        case 52
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__delayMix,-1,2,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 20
        case 53
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_RDL_PINGPONG,$Engine__delayPingPong,-1,2,$NI_BUS_OFFSET+1)
        case 54
          if ($Engine__reverbOnOff=0)
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverseDisabled")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
          else
            set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11")
            set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Buttons/40-40buttonReverse")
            set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET)
            if ($Engine__particleFXButton=1)
              set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
            end if
          end if
        case 55
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_LENGTH_RATIO_LR,$Engine__reverbDecay,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 21
        case 56
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_INSERT_EFFECT_OUTPUT_GAIN,$Engine__reverbMix,-1,3,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 22
        case 57
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_IRC_REVERSE,$Engine__reverbReverse,-1,3,$NI_BUS_OFFSET+1)
        case 58
          reset_ksp_timer
          $Engine__lastUIChange := 23
          set_text($Engine__particleOctaveLabel,$Engine__particleOctave & " octaves")
        case 59
          reset_ksp_timer
          $Engine__lastUIChange := 24
          set_text($Engine__particleSpreadLabel,$Engine__particleSpreadLabel & "%")
        case 60
          reset_ksp_timer
          $Engine__lastUIChange := 25
          set_text($Engine__particleVolVariationLabel,$Engine__particleVolVariation & "%")
        case 61
          while ($i<256)
            %GuiCallBacks__async_ID[$i] := -1
            $i := $i+1
          end while
          $i := 0
          $j := 0
          if (1=0)
            while ($i<22)
              if ($i<11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*$i))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*$i)+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=11)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-11)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-11))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          else
            $i := 22
            while ($i<66)
              if ($i<33)
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-22)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-22))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=33 and ($i<44))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-33)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-33))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=44 and ($i<55))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-44)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-44))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              if ($i>=55 and ($i<66))
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_LOW_KEY,19+(7*($i-55)))
                $j := $j+1
                %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_HIGH_KEY,25+(7*($i-55))+$Engine__particleCrossfadeKnob)
                $j := $j+1
              end if
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_LOW_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              %GuiCallBacks__async_ID[$j] := set_zone_par(%NI_USER_ZONE_IDS[$i],$ZONE_PAR_FADE_HIGH_KEY,$Engine__particleCrossfadeKnob)
              $j := $j+1
              $i := $i+1
            end while
            $i := 0
            $j := 0
          end if
          while (%GuiCallBacks__async_ID[$i]>-1)
            wait_async(%GuiCallBacks__async_ID[$i])
            $i := $i+1
          end while
          $i := 0
          reset_ksp_timer
          $Engine__lastUIChange := 26
          set_text($Engine__particleCrossfadeKnobLabel,$Engine__particleCrossfadeKnob & " semitones")
        case 63
          if ($Engine__particleStretchMode=1 and ($Engine__particleMode=1))
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFontFull)
          else
            set_control_par_str(get_ui_id($Engine__particleStretchSpeed),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par_str(get_ui_id($Engine__particleStretchFormant),$CONTROL_PAR_PICTURE,"/Sliders/Slider150by11Disabled")
            set_control_par(get_ui_id($Engine__particleStretchSpeedLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            set_control_par(get_ui_id($Engine__particleStretchFormantLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
          end if
        case 64
          reset_ksp_timer
          $Engine__lastUIChange := 27
          set_text($Engine__particleStretchSpeedLabel,$Engine__particleStretchSpeed & "%")
        case 65
          reset_ksp_timer
          $Engine__lastUIChange := 28
          set_text($Engine__particleStretchFormantLabel,$Engine__particleStretchFormant & "%")
        case 66
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATTACK,$Engine__particleAttackKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleAttackKnobLabel,get_engine_par_disp($ENGINE_PAR_ATTACK,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 29
        case 67
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_DECAY,$Engine__particleDecayKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleDecayKnobLabel,get_engine_par_disp($ENGINE_PAR_DECAY,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 30
        case 68
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_SUSTAIN,$Engine__particleSustainKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleSustainKnobLabel,get_engine_par_disp($ENGINE_PAR_SUSTAIN,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " dB")
          $Engine__lastUIChange := 31
        case 69
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_RELEASE,$Engine__particleReleaseKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleReleaseKnobLabel,get_engine_par_disp($ENGINE_PAR_RELEASE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & " ms")
          $Engine__lastUIChange := 32
        case 70
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME"))
          set_engine_par($ENGINE_PAR_ATK_CURVE,$Engine__particleAttackCurveKnob,3,find_mod(3,"ENV 1"),find_target(3,find_mod(3,"ENV 1"),"ENV 1 -> VOLUME"))
          reset_ksp_timer
          set_text($Engine__particleattackCurveKnobLabel,get_engine_par_disp($ENGINE_PAR_ATK_CURVE,2,find_mod(2,"ENV 1"),find_target(2,find_mod(2,"ENV 1"),"ENV 1 -> VOLUME")) & "%")
          $Engine__lastUIChange := 33
        case 71
          if ($Engine__particleFXButton=0)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,0,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,1,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,2,$NI_BUS_OFFSET+1)
            set_engine_par($ENGINE_PAR_EFFECT_BYPASS,1,-1,3,$NI_BUS_OFFSET+1)
            if ($Engine__bitcrushOnOff=0)
              set_control_par_str(get_ui_id($Engine__sampleRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__bits),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__sampleRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__bitsLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__eqOnOff=0)
              set_control_par_str(get_ui_id($Engine__highShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__midBand),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__lowShelf),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__highShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__midBandLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__lowShelfLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__delayOnOff=0)
              set_control_par_str(get_ui_id($Engine__delayRate),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayFeedback),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__delayMix),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__delayRateLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayFeedbackLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__delayMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
            if ($Engine__reverbOnOff=0)
              set_control_par_str(get_ui_id($Engine__reverbDecay),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par_str(get_ui_id($Engine__reverbReverse),$CONTROL_PAR_PICTURE,"/Sliders/Slider100by11Disabled")
              set_control_par(get_ui_id($Engine__reverbDecayLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
              set_control_par(get_ui_id($Engine__reverbMixLabel),$CONTROL_PAR_FONT_TYPE,$Engine__initFont)
            end if
          else
            if ($Engine__particleFXButton=1)
              if ($Engine__bitcrushOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,0,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__eqOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,1,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__delayOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,2,$NI_BUS_OFFSET+1)
              end if
              if ($Engine__reverbOnOff=1)
                set_engine_par($ENGINE_PAR_EFFECT_BYPASS,0,-1,3,$NI_BUS_OFFSET+1)
              end if
            end if
          end if
        case 72
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET)
          set_engine_par($ENGINE_PAR_BITS,$Engine__bits,-1,0,$NI_BUS_OFFSET+1)
          reset_ksp_timer
          $Engine__lastUIChange := 34
      end select
    end if
    $loadArrayIterator := $loadArrayIterator+1
  end while
  $loadArrayIterator := 0
  while ($i<22)
    if (%GuiCallBacks__preSamplePathsIndexState[$i] # %GuiCallBacks__samplePathsIndexState[$i] or (0=1))
      message("Made it, needs to be changed at i = " & $i)
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      %GuiCallBacks__async_ID[$j] := set_sample(%NI_USER_ZONE_IDS[$i+22],!_atmosSamplePaths[22*%GuiCallBacks__samplePathsIndexState[$i]+$i])
      $j := $j+1
      if ($i<11)
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/MoonButton")
          case 1
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/SaturnButton")
          case 2
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/FishButton")
          case 3
            set_control_par_str(%Engine__randomPPLocks[$i],$CONTROL_PAR_PICTURE,"/Buttons/DropButton")
        end select
      else
        select (%GuiCallBacks__samplePathsIndexState[$i])
          case 0
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SparkleButton")
          case 1
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/FireButton")
          case 2
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/SnowflakeButton")
          case 3
            set_control_par_str(%Engine__randomFFLocks[$i-11],$CONTROL_PAR_PICTURE,"/Buttons/BonfireButton")
        end select
      end if
    end if
    $i := $i+1
  end while
  $i := 0
  while (%GuiCallBacks__async_ID[$j]>-1)
    wait_async(%GuiCallBacks__async_ID[$j])
    $j := $j+1
  end while
  $j := 0
  while ($i<256)
    %GuiCallBacks__async_ID[$i] := -1
    $i := $i+1
  end while
  $i := 0
  call setLoopModes
  message("State Loaded!")
end on

on ui_control($Engine__randomPPLocks0)
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  if ($Engine__randomPPLocks0=1)
    %Engine__lockedRandomizers[0] := 1
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]+1
  else
    %Engine__lockedRandomizers[0] := 0
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]-1
  end if
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8] := $Engine__randomPPLocks0
  %GuiCallBacks__variableSettingsSave[0] := %Engine__lockedRandomizers[0]
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
end on

on ui_control($Engine__randomFFLocks0)
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  if ($Engine__randomFFLocks0=1)
    %Engine__lockedRandomizers[0+11] := 1
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]+1
  else
    %Engine__lockedRandomizers[0+11] := 0
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]-1
  end if
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+0+8+11] := $Engine__randomFFLocks0
  %GuiCallBacks__variableSettingsSave[0+11] := %Engine__lockedRandomizers[0+11]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
end on

on ui_control($Engine__randomPPLocks1)
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  if ($Engine__randomPPLocks1=1)
    %Engine__lockedRandomizers[1] := 1
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]+1
  else
    %Engine__lockedRandomizers[1] := 0
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]-1
  end if
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8] := $Engine__randomPPLocks1
  %GuiCallBacks__variableSettingsSave[1] := %Engine__lockedRandomizers[1]
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
end on

on ui_control($Engine__randomFFLocks1)
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  if ($Engine__randomFFLocks1=1)
    %Engine__lockedRandomizers[1+11] := 1
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]+1
  else
    %Engine__lockedRandomizers[1+11] := 0
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]-1
  end if
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+1+8+11] := $Engine__randomFFLocks1
  %GuiCallBacks__variableSettingsSave[1+11] := %Engine__lockedRandomizers[1+11]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
end on

on ui_control($Engine__randomPPLocks2)
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  if ($Engine__randomPPLocks2=1)
    %Engine__lockedRandomizers[2] := 1
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]+1
  else
    %Engine__lockedRandomizers[2] := 0
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]-1
  end if
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8] := $Engine__randomPPLocks2
  %GuiCallBacks__variableSettingsSave[2] := %Engine__lockedRandomizers[2]
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
end on

on ui_control($Engine__randomFFLocks2)
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  if ($Engine__randomFFLocks2=1)
    %Engine__lockedRandomizers[2+11] := 1
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]+1
  else
    %Engine__lockedRandomizers[2+11] := 0
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]-1
  end if
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+2+8+11] := $Engine__randomFFLocks2
  %GuiCallBacks__variableSettingsSave[2+11] := %Engine__lockedRandomizers[2+11]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
end on

on ui_control($Engine__randomPPLocks3)
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  if ($Engine__randomPPLocks3=1)
    %Engine__lockedRandomizers[3] := 1
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]+1
  else
    %Engine__lockedRandomizers[3] := 0
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]-1
  end if
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8] := $Engine__randomPPLocks3
  %GuiCallBacks__variableSettingsSave[3] := %Engine__lockedRandomizers[3]
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
end on

on ui_control($Engine__randomFFLocks3)
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  if ($Engine__randomFFLocks3=1)
    %Engine__lockedRandomizers[3+11] := 1
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]+1
  else
    %Engine__lockedRandomizers[3+11] := 0
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]-1
  end if
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+3+8+11] := $Engine__randomFFLocks3
  %GuiCallBacks__variableSettingsSave[3+11] := %Engine__lockedRandomizers[3+11]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
end on

on ui_control($Engine__randomPPLocks4)
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  if ($Engine__randomPPLocks4=1)
    %Engine__lockedRandomizers[4] := 1
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]+1
  else
    %Engine__lockedRandomizers[4] := 0
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]-1
  end if
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8] := $Engine__randomPPLocks4
  %GuiCallBacks__variableSettingsSave[4] := %Engine__lockedRandomizers[4]
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
end on

on ui_control($Engine__randomFFLocks4)
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  if ($Engine__randomFFLocks4=1)
    %Engine__lockedRandomizers[4+11] := 1
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]+1
  else
    %Engine__lockedRandomizers[4+11] := 0
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]-1
  end if
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+4+8+11] := $Engine__randomFFLocks4
  %GuiCallBacks__variableSettingsSave[4+11] := %Engine__lockedRandomizers[4+11]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
end on

on ui_control($Engine__randomPPLocks5)
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  if ($Engine__randomPPLocks5=1)
    %Engine__lockedRandomizers[5] := 1
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]+1
  else
    %Engine__lockedRandomizers[5] := 0
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]-1
  end if
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8] := $Engine__randomPPLocks5
  %GuiCallBacks__variableSettingsSave[5] := %Engine__lockedRandomizers[5]
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
end on

on ui_control($Engine__randomFFLocks5)
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  if ($Engine__randomFFLocks5=1)
    %Engine__lockedRandomizers[5+11] := 1
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]+1
  else
    %Engine__lockedRandomizers[5+11] := 0
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]-1
  end if
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+5+8+11] := $Engine__randomFFLocks5
  %GuiCallBacks__variableSettingsSave[5+11] := %Engine__lockedRandomizers[5+11]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
end on

on ui_control($Engine__randomPPLocks6)
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  if ($Engine__randomPPLocks6=1)
    %Engine__lockedRandomizers[6] := 1
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]+1
  else
    %Engine__lockedRandomizers[6] := 0
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]-1
  end if
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8] := $Engine__randomPPLocks6
  %GuiCallBacks__variableSettingsSave[6] := %Engine__lockedRandomizers[6]
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
end on

on ui_control($Engine__randomFFLocks6)
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  if ($Engine__randomFFLocks6=1)
    %Engine__lockedRandomizers[6+11] := 1
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]+1
  else
    %Engine__lockedRandomizers[6+11] := 0
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]-1
  end if
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+6+8+11] := $Engine__randomFFLocks6
  %GuiCallBacks__variableSettingsSave[6+11] := %Engine__lockedRandomizers[6+11]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
end on

on ui_control($Engine__randomPPLocks7)
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  if ($Engine__randomPPLocks7=1)
    %Engine__lockedRandomizers[7] := 1
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]+1
  else
    %Engine__lockedRandomizers[7] := 0
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]-1
  end if
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8] := $Engine__randomPPLocks7
  %GuiCallBacks__variableSettingsSave[7] := %Engine__lockedRandomizers[7]
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
end on

on ui_control($Engine__randomFFLocks7)
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  if ($Engine__randomFFLocks7=1)
    %Engine__lockedRandomizers[7+11] := 1
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]+1
  else
    %Engine__lockedRandomizers[7+11] := 0
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]-1
  end if
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+7+8+11] := $Engine__randomFFLocks7
  %GuiCallBacks__variableSettingsSave[7+11] := %Engine__lockedRandomizers[7+11]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
end on

on ui_control($Engine__randomPPLocks8)
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  if ($Engine__randomPPLocks8=1)
    %Engine__lockedRandomizers[8] := 1
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]+1
  else
    %Engine__lockedRandomizers[8] := 0
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]-1
  end if
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8] := $Engine__randomPPLocks8
  %GuiCallBacks__variableSettingsSave[8] := %Engine__lockedRandomizers[8]
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
end on

on ui_control($Engine__randomFFLocks8)
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  if ($Engine__randomFFLocks8=1)
    %Engine__lockedRandomizers[8+11] := 1
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]+1
  else
    %Engine__lockedRandomizers[8+11] := 0
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]-1
  end if
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+8+8+11] := $Engine__randomFFLocks8
  %GuiCallBacks__variableSettingsSave[8+11] := %Engine__lockedRandomizers[8+11]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
end on

on ui_control($Engine__randomPPLocks9)
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  if ($Engine__randomPPLocks9=1)
    %Engine__lockedRandomizers[9] := 1
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]+1
  else
    %Engine__lockedRandomizers[9] := 0
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]-1
  end if
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8] := $Engine__randomPPLocks9
  %GuiCallBacks__variableSettingsSave[9] := %Engine__lockedRandomizers[9]
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
end on

on ui_control($Engine__randomFFLocks9)
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  if ($Engine__randomFFLocks9=1)
    %Engine__lockedRandomizers[9+11] := 1
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]+1
  else
    %Engine__lockedRandomizers[9+11] := 0
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]-1
  end if
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+9+8+11] := $Engine__randomFFLocks9
  %GuiCallBacks__variableSettingsSave[9+11] := %Engine__lockedRandomizers[9+11]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
end on

on ui_control($Engine__randomPPLocks10)
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  if ($Engine__randomPPLocks10=1)
    %Engine__lockedRandomizers[10] := 1
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]+1
  else
    %Engine__lockedRandomizers[10] := 0
    %Engine__numCurrentLocks[0] := %Engine__numCurrentLocks[0]-1
  end if
  if (%Engine__numCurrentLocks[0]=11)
    set_control_par(get_ui_id($Engine__lockRow0),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+31] := $Engine__lockRow0
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8] := $Engine__randomPPLocks10
  %GuiCallBacks__variableSettingsSave[10] := %Engine__lockedRandomizers[10]
  %GuiCallBacks__variableSettingsSave[22] := %Engine__numCurrentLocks[0]
end on

on ui_control($Engine__randomFFLocks10)
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,0)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  if ($Engine__randomFFLocks10=1)
    %Engine__lockedRandomizers[10+11] := 1
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]+1
  else
    %Engine__lockedRandomizers[10+11] := 0
    %Engine__numCurrentLocks[1] := %Engine__numCurrentLocks[1]-1
  end if
  if (%Engine__numCurrentLocks[1]=11)
    set_control_par(get_ui_id($Engine__lockRow1),$CONTROL_PAR_VALUE,1)
    %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+32] := $Engine__lockRow1
  end if
  %GuiCallBacks___settingsSave[$GuiCallBacks__numUIElements*1+10+8+11] := $Engine__randomFFLocks10
  %GuiCallBacks__variableSettingsSave[10+11] := %Engine__lockedRandomizers[10+11]
  %GuiCallBacks__variableSettingsSave[23] := %Engine__numCurrentLocks[1]
end on

